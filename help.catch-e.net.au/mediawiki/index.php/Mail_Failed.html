<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta name="keywords" content="Mail Failed,AWS SES Setup,DeleteSuppressedDestination,Gb::Queries::executeQueries(),Gb::Queries::executeScript(),Gb::SystemMaintenance::updateMailDeliveryStatusFromPostfix(),GetSuppressedDestination,Job Scheduler,Mail Filters,Mail Queue,Mail Troubleshooting" />
<link rel="shortcut icon" href="../../favicon.ico" />
		<title>Mail Failed - Help wiki</title>
		<style type="text/css" media="screen,projection">/*<![CDATA[*/ @import "../skins/catche/main.css%3F7.css"; /*]]>*/</style>
		<link rel="stylesheet" type="text/css" media="print" href="../skins/common/commonPrint.css" />
		<!--[if lt IE 5.5000]><style type="text/css">@import "/mediawiki/skins/catche/IE50Fixes.css";</style><![endif]-->
		<!--[if IE 5.5000]><style type="text/css">@import "/mediawiki/skins/catche/IE55Fixes.css";</style><![endif]-->
		<!--[if IE 6]><style type="text/css">@import "/mediawiki/skins/catche/IE60Fixes.css";</style><![endif]-->
		<!--[if IE 7]><style type="text/css">@import "/mediawiki/skins/catche/IE70Fixes.css?1";</style><![endif]-->
		<!--[if lt IE 7]><script type="text/javascript" src="/mediawiki/skins/common/IEFixes.js"></script>
		<meta http-equiv="imagetoolbar" content="no" /><![endif]-->
		<script type="text/javascript">var skin = 'catche';var stylepath = '/mediawiki/skins';</script>
		<script type="text/javascript" src="../skins/common/wikibits.js"><!-- wikibits js --></script>
		<script type="text/javascript" src="../index.php%3Ftitle=-&amp;action=raw&amp;gen=js"><!-- site js --></script>
		<style type="text/css">/*<![CDATA[*/
@import "../index.php%3Ftitle=MediaWiki:Common.css&action=raw&ctype=text%252Fcss&smaxage=18000.css";
@import "../index.php%3Ftitle=MediaWiki:Catche.css&action=raw&ctype=text%252Fcss&smaxage=18000.css";
@import "../index.php%3Ftitle=-&action=raw&gen=css&maxage=18000.css";
/*]]>*/</style>
		<!-- Head Scripts -->
		      <style>
        <!--
        .editsection { display: none; }
        -->
      </style>
	</head>
<body  class="ns-0 ltr">
	<div id="globalWrapper">
		<div id="column-content">
	<div id="content">
		<a name="top" id="top"></a>
				<h1 class="firstHeading">Mail Failed</h1>
		<div id="bodyContent">
			<h3 id="siteSub">From Help wiki</h3>
			<div id="contentSub"></div>
									<div id="jump-to-nav">Jump to: <a href="Mail_Failed.html#column-one">navigation</a>, <a href="Mail_Failed.html#searchInput">search</a></div>			<!-- start content -->
			<p><a href="Main_Page.html" title="Main Page">Main Page</a> &rarr; <a href="SYSTEM.html" title="SYSTEM">System</a> / <a href="Mail_Queue.html" title="Mail Queue">Mail Queue</a> &rarr;  <a href="Mail_Filters.html" title="Mail Filters">Mail Filters</a>  | <strong>Mail Failed</strong> | <a href="Mail_Troubleshooting.html" title="Mail Troubleshooting">Mail Troubleshooting</a>
</p>
<hr />
<table id="toc" class="toc" summary="Contents"><tr><td><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class='toclevel-1'><a href="Mail_Failed.html#Overview"><span class="tocnumber">1</span> <span class="toctext">Overview</span></a></li>
<li class='toclevel-1'><a href="Mail_Failed.html#Fail_to_send"><span class="tocnumber">2</span> <span class="toctext">Fail to send</span></a></li>
<li class='toclevel-1'><a href="Mail_Failed.html#Fail_to_be_received"><span class="tocnumber">3</span> <span class="toctext">Fail to be received</span></a></li>
<li class='toclevel-1'><a href="Mail_Failed.html#Available_Checks"><span class="tocnumber">4</span> <span class="toctext">Available Checks</span></a>
<ul>
<li class='toclevel-2'><a href="Mail_Failed.html#Blacklisting"><span class="tocnumber">4.1</span> <span class="toctext">Blacklisting</span></a></li>
<li class='toclevel-2'><a href="Mail_Failed.html#Bounced.2C_Deferred_or_Complaint"><span class="tocnumber">4.2</span> <span class="toctext">Bounced, Deferred or Complaint</span></a>
<ul>
<li class='toclevel-3'><a href="Mail_Failed.html#Scheduler_Jobs"><span class="tocnumber">4.2.1</span> <span class="toctext">Scheduler Jobs</span></a></li>
<li class='toclevel-3'><a href="Mail_Failed.html#Report_Example"><span class="tocnumber">4.2.2</span> <span class="toctext">Report Example</span></a></li>
</ul>
</li>
</ul>
</li>
<li class='toclevel-1'><a href="Mail_Failed.html#Troubleshooting"><span class="tocnumber">5</span> <span class="toctext">Troubleshooting</span></a></li>
<li class='toclevel-1'><a href="Mail_Failed.html#System_Notes"><span class="tocnumber">6</span> <span class="toctext">System Notes</span></a></li>
</ul>
</td></tr></table><script type="text/javascript"> if (window.showTocToggle) { var tocShowText = "show"; var tocHideText = "hide"; showTocToggle(); } </script>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="https://help.catch-e.net.au/mediawiki/index.php?title=Mail_Failed&amp;action=edit&amp;section=1" title="Edit section: Overview">edit</a>]</div><a name="Overview"></a><h3>Overview</h3>
<p>Sometimes mail in the <a href="Mail_Queue.html" title="Mail Queue">Mail Queue</a> does not send.<br />
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="https://help.catch-e.net.au/mediawiki/index.php?title=Mail_Failed&amp;action=edit&amp;section=2" title="Edit section: Fail to send">edit</a>]</div><a name="Fail_to_send"></a><h3>Fail to send</h3>
<p>Catch-e cannot not send emails if email details are missing or required data is corrupted.<br />
</p>
<ol><li> Email address is missing
</li><li> Email address is incomplete
</li><li> Email data does not validate
</li></ol>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="https://help.catch-e.net.au/mediawiki/index.php?title=Mail_Failed&amp;action=edit&amp;section=3" title="Edit section: Fail to be received">edit</a>]</div><a name="Fail_to_be_received"></a><h3>Fail to be received</h3>
<p>After being sent by the system, some emails fail to land in the recipient's inbox.<br />
</p><p>Some reasons we can identify and manage. These include blacklisted IP addresses, bounced emails or deferred emails.<br />
</p><p>Some reasons beyond our control. These are listed below;<br />
</p>
<ol><li> A recipient sets an email as 'spam'. This means all subsequent emails may go to Spam/Junk folders. Note: this affects the IP address, so all the emails coming from your system IP for that recipient could be affected.
</li><li> The recipients server has some sort of spamming control. It might be looking for a list of keywords which it find in the email/s. 
</li><li> If a span rule has been removed, the email/s may being to be received again without explanation.
</li><li> The recipients mailbox is full. 
</li><li> The recipient has a folder rule that has been overlooked.
</li></ol>
<p><br />
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="https://help.catch-e.net.au/mediawiki/index.php?title=Mail_Failed&amp;action=edit&amp;section=4" title="Edit section: Available Checks">edit</a>]</div><a name="Available_Checks"></a><h3>Available Checks</h3>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="https://help.catch-e.net.au/mediawiki/index.php?title=Mail_Failed&amp;action=edit&amp;section=5" title="Edit section: Blacklisting">edit</a>]</div><a name="Blacklisting"></a><h4>Blacklisting</h4>
<p>IP blacklisting can happen if an SPF record is missing (see also the <a href="SPF_records.html" title="SPF records">SPF records</a> page). We can run checks if you think this may be happening.<br />
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="https://help.catch-e.net.au/mediawiki/index.php?title=Mail_Failed&amp;action=edit&amp;section=6" title="Edit section: Bounced, Deferred or Complaint">edit</a>]</div><a name="Bounced.2C_Deferred_or_Complaint"></a><h4>Bounced, Deferred or Complaint</h4>
<p>Emails that have failed to send can be classified as 'Bounced', 'Deferred' or 'Complaint' in Catch-e.<br />
</p>
<ol><li> Bounced: 
<ol><li> the server doesn't exist
</li><li> the email address doesn't exist
</li><li> the email address is suppressed. See also the <a href="GetSuppressedDestination.html" title="GetSuppressedDestination">getSuppressedDestination</a> and <a href="DeleteSuppressedDestination.html" title="DeleteSuppressedDestination">deleteSuppressedDestination</a> API pages.
</li></ol>
</li><li> Deferred: the server exists but can't connect to it.
</li><li> Complaint: The recipient marked the invitation as spam.
</li></ol>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="https://help.catch-e.net.au/mediawiki/index.php?title=Mail_Failed&amp;action=edit&amp;section=7" title="Edit section: Scheduler Jobs">edit</a>]</div><a name="Scheduler_Jobs"></a><h5>Scheduler Jobs</h5>
<p><u>Some</u> bounced or deferred emails can be identified and reported back to you using scheduled jobs.<br /> 
</p><p>Some emails <u>can't</u> be reported on because some companies have anti spamming procedures in place that do not report bounced emails back to the sender. Examples include Gmail and Yahoo.<br /> In these instances, where the domain is correct, emails with incorrect email addresses will not appear on the report.<br /> Emails that are caught in the anti-spam filters for other reasons will also not appear on the report.<br /> 
</p><p>A scheduler report can be sent to you that provides information including the intended email batch-item number, email address, delivery date and delivery details of emails that have failed to send.<br />
You can then locate the email\s in question in the mail queue, by entering the "Batch No" and "Item No". The email address can then be corrected and the email resent.<br />
</p><p>If your system is configured to use <a href="SMTP_Setup.html" title="SMTP Setup">Simple Mail Transfer Protocol (SMTP)</a>, set-up jobs 1-3.<br />
If your system is configured to use <a href="AWS_SES_Setup.html" title="AWS SES Setup">Amazon Simple Email Service (SES)</a>, set-up jobs 2 and 3 only.
</p><p><br />
</p>
<table style="border-collapse: collapse; width: 100%; background: #ffd7d7; border: 1px solid silver;">

<tr>
<td width="50px" align="left"> <a href="./Image:Warning.png.html" class="image" title=""><img src="../../clients/help/wiki/images/c/cb/Warning.png" alt="" width="30" height="30" longdesc="/mediawiki/index.php/Image:Warning.png" /></a></td><td align="left"> Emails sent from a @catch-e.com.au address will not get picked up in the bounce back notification process. If you find any emails are being sent that use a catch-e email address, update them immediately to use an email address that belongs to your business.
</td></tr></table>
<p><br />
</p>
<table class="catch-e" style="border-collapse: collapse; width: 100%;">
<tr>
<th colspan="4"> System / <a href="Job_Scheduler.html" title="Job Scheduler">Scheduler</a>
</th></tr>
<tr>
<th width="5%" align="left">Run Order</th><th width="15%" align="left">Job Type</th><th width="20%" align="left">Description</th><th width="60%" align="left">Comment
</th></tr>
<tr>
<td>1</td><td><a href="./Gb::SystemMaintenance::updateMailDeliveryStatusFromPostfix().html" title="Gb::SystemMaintenance::updateMailDeliveryStatusFromPostfix()">updateMailDeliveryStatusFromPostfix</a></td><td>Record Postfix Mail Errors</td><td>If you use smtp, the email delivery details are intially stored in a database called Postfix. This job moves all the email details from this database into your system. The job performs the following three steps:<br />
<p>1. Move email delivery details of new emails into the <i>[gb_mail_recipient_statuses]</i> table from the Postfix database.<br />
</p><p>2. Update the <i>[gb_mail_recipients]status_flag</i> to reflect the delivery status from the most recent email send of this email.<br /> 
</p><p>3. Delete moved information from the Postfix database.<br /> 
</p>
</td></tr>
<tr>
<td>2</td><td><a href="./Gb::Queries::executeQueries().html" title="Gb::Queries::executeQueries()">executeQuery</a></td><td>Bounced/Deferred email(s)</td><td>This job runs the Bounced/Deferred email(s) report. Set this to email the recipients in your business who are responsible for monitoring and arranging for follow-up of failed emails.<br />
<p>Catch-e recommend that this job runs nightly, but it could be another timing to suit your business, such as weekly. The job has an 'Inactive' status until it's configured to email a nominated user in your business.<br />
</p>
</td></tr>
<tr>
<td>3</td><td><a href="./Gb::Queries::executeScript().html" title="Gb::Queries::executeScript()">executeScript</a></td><td>Update record_flag for gb_mail_recipient_statuses table</td><td>This job updates the field [gb_mail_recipient_statuses]report_flag to 'yes'. This should be set as a child of <b>Bounced/Deferred email(s)</b>.<br />
<p>This job is only accessible to Catch-e staff to ensure the settings are not changed.
</p>
</td></tr></table>
<p><br />
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="https://help.catch-e.net.au/mediawiki/index.php?title=Mail_Failed&amp;action=edit&amp;section=8" title="Edit section: Report Example">edit</a>]</div><a name="Report_Example"></a><h5>Report Example</h5>
<p><a href="./Image:BouncedDeferredEmails.jpg.html" class="image" title="Image:BouncedDeferredEmails.jpg"><img src="../../clients/help/wiki/images/0/09/BouncedDeferredEmails.jpg" alt="Image:BouncedDeferredEmails.jpg" width="1319" height="217" longdesc="/mediawiki/index.php/Image:BouncedDeferredEmails.jpg" /></a>
<br />
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="https://help.catch-e.net.au/mediawiki/index.php?title=Mail_Failed&amp;action=edit&amp;section=9" title="Edit section: Troubleshooting">edit</a>]</div><a name="Troubleshooting"></a><h3>Troubleshooting</h3>
<table style="border-collapse: collapse; width: 100%; border: 1px solid silver;">

<tr>
<td width="50px" align="left"> <a href="./Image:Tip.png.html" class="image" title=""><img src="../../clients/help/wiki/images/4/45/Tip.png" alt="" width="30" height="30" longdesc="/mediawiki/index.php/Image:Tip.png" /></a></td><td align="left">Visit the main <a href="Troubleshooting.html" title="Troubleshooting">Troubleshooting</a> page for a list of all the available problem-solving tips.
</td></tr></table>
<p><br />
<br />
</p>
<hr />
<div class="editsection" style="float:right;margin-left:5px;">[<a href="https://help.catch-e.net.au/mediawiki/index.php?title=Mail_Failed&amp;action=edit&amp;section=10" title="Edit section: System Notes">edit</a>]</div><a name="System_Notes"></a><h3>System Notes</h3>
<p><small>
</p>
<ul><li> 2366: Scheduled Services::getMailLogErrors() Live 21/05/2014
</li><li> 9790: '_tmp_mail_queue' already exists in postfix update. Live 05/08/2014
</li><li> 10084: Fix duplicate problem in gb_mail_errors and other improvements. Live 05/08/2014
</li><li> (DEV-20965) SES bounce callback does not parse email address in bouncedRecipients properly. Live 04/02/2020
</li><li> (CAT-17450) Update management of bounced/deferred emails. Live 04/02/2020
</li><li> (DEV-21811) Emails fail to send due to enforcement of RFC822 standard. Live 17/04/2023
</li><li> (DEV-22334) Mail Queue - add validation check on billing emails. Live 08/09/2025
</li></ul>
<p></small>
</p><div class="printfooter">
Retrieved from "<a href="Mail_Failed.html">https://help.catch-e.net.au/mediawiki/index.php/Mail_Failed</a>"</div>
						<!-- end content -->
			<div class="visualClear"></div>
		</div>
	</div>
		</div>
		<div id="column-one">
	<div id="p-cactions" class="portlet">
		<h5>Views</h5>
		<ul>
		</ul>
	</div>
	<div class="portlet" id="p-personal">
		<h5>Personal tools</h5>
		<div class="pBody">
			<ul>
				<li id="pt-login"><a href="https://help.catch-e.net.au/mediawiki/index.php?title=Special:Userlogin&amp;returnto=Mail_Failed">Log in / create account</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-logo">
		<a style="background-image: url(../../clients/help/wiki/common/images/logo.gif);" href="Main_Page.html" title="Main Page"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
	<div id="p-search" class="portlet">
		<h5><label for="searchInput">Search</label></h5>
		<div id="searchBody" class="pBody">
			<form action="./Special:Search.html" id="searchform"><div>
				<input id="searchInput" name="search" type="text" accesskey="f" value="" />
				<input type='submit' name="go" class="searchButton" id="searchGoButton"	value="Go" />&nbsp;
				<input type='submit' name="fulltext" class="searchButton" value="Search" />
			</div></form>
		</div>
	</div>
	<div class="portlet" id="p-tb">
		<h5>Toolbox</h5>
		<div class="pBody">
			<ul>
				<li id="t-whatlinkshere"><a href="./Special:Whatlinkshere/Mail_Failed.html">What links here</a></li>
				<li id="t-print"><a href="https://help.catch-e.net.au/mediawiki/index.php?title=Mail_Failed&amp;printable=yes">Printable version</a></li>			</ul>
		</div>
	</div>

		</div><!-- end of the left (by default at least) column -->
			<div class="visualClear"></div>
			<div id="footer">
				<div id="f-poweredbyico"><a href="http://www.mediawiki.org/"><img src="../skins/common/images/poweredby_mediawiki_88x31.png" alt="MediaWiki" /></a></div>
&copy; 2025 Catch-e Pty Ltd			<ul id="f-list">
				<li id="privacy"><a href="./Help_wiki:Privacy_policy.html" title="Help wiki:Privacy policy">Privacy policy</a></li>
				<li id="disclaimer"><a href="./Help_wiki:General_disclaimer.html" title="Help wiki:General disclaimer">Disclaimers</a></li>
			</ul>
		</div>
	<script type="text/javascript"> if (window.runOnloadHook) runOnloadHook();</script>
</div>
<!-- Served by 6a1f7abdc40c in 0.08 secs. -->
</body></html>
