<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta name="keywords" content="Swann Interface,Contracts:Events,Fm::swann::exportProposals(),Fm::swann::importPolicies(),Main Page,Quotes:Buttons,Scheduled Services,Swann:Extended Warranty,Swann:Walkaway,Swann Interface:Tyre And Rim,Swann Interface Setup" />
<link rel="shortcut icon" href="../../favicon.ico" />
		<title>Swann Interface - Help wiki</title>
		<style type="text/css" media="screen,projection">/*<![CDATA[*/ @import "../skins/catche/main.css%3F7.css"; /*]]>*/</style>
		<link rel="stylesheet" type="text/css" media="print" href="../skins/common/commonPrint.css" />
		<!--[if lt IE 5.5000]><style type="text/css">@import "/mediawiki/skins/catche/IE50Fixes.css";</style><![endif]-->
		<!--[if IE 5.5000]><style type="text/css">@import "/mediawiki/skins/catche/IE55Fixes.css";</style><![endif]-->
		<!--[if IE 6]><style type="text/css">@import "/mediawiki/skins/catche/IE60Fixes.css";</style><![endif]-->
		<!--[if IE 7]><style type="text/css">@import "/mediawiki/skins/catche/IE70Fixes.css?1";</style><![endif]-->
		<!--[if lt IE 7]><script type="text/javascript" src="/mediawiki/skins/common/IEFixes.js"></script>
		<meta http-equiv="imagetoolbar" content="no" /><![endif]-->
		<script type="text/javascript">var skin = 'catche';var stylepath = '/mediawiki/skins';</script>
		<script type="text/javascript" src="../skins/common/wikibits.js"><!-- wikibits js --></script>
		<script type="text/javascript" src="../index.php%3Ftitle=-&amp;action=raw&amp;gen=js"><!-- site js --></script>
		<style type="text/css">/*<![CDATA[*/
@import "../index.php%3Ftitle=MediaWiki:Common.css&action=raw&ctype=text%252Fcss&smaxage=18000.css";
@import "../index.php%3Ftitle=MediaWiki:Catche.css&action=raw&ctype=text%252Fcss&smaxage=18000.css";
@import "../index.php%3Ftitle=-&action=raw&gen=css&maxage=18000.css";
/*]]>*/</style>
		<!-- Head Scripts -->
		      <style>
        <!--
        .editsection { display: none; }
        -->
      </style>
	</head>
<body  class="ns-0 ltr">
	<div id="globalWrapper">
		<div id="column-content">
	<div id="content">
		<a name="top" id="top"></a>
				<h1 class="firstHeading">Swann Interface</h1>
		<div id="bodyContent">
			<h3 id="siteSub">From Help wiki</h3>
			<div id="contentSub"></div>
									<div id="jump-to-nav">Jump to: <a href="Swann_Interface.html#column-one">navigation</a>, <a href="Swann_Interface.html#searchInput">search</a></div>			<!-- start content -->
			<p><a href="Main_Page.html" title="Main Page">Main Page</a> &rarr; <a href="Scheduled_Services.html" title="Scheduled Services">Scheduled Services</a> &rarr; <strong>Swann Interface</strong> &rarr; <a href="./Swann_Interface:Tyre_And_Rim.html" title="Swann Interface:Tyre And Rim">Tyre And Rim</a> | <a href="./Swann:Extended_Warranty.html" title="Swann:Extended Warranty">Extended Warranty</a> | <a href="./Swann:Walkaway.html" title="Swann:Walkaway">Walkaway</a> &rarr; <a href="./Image:Check.png.html" class="image" title="Image:check.png"><img src="../../clients/help/wiki/images/2/2a/Check.png" alt="Image:check.png" width="30" height="30" longdesc="/mediawiki/index.php/Image:Check.png" /></a> <a href="Swann_Interface_Setup.html" title="Swann Interface Setup">Swann Interface Setup</a><br />
</p>
<hr />
<table id="toc" class="toc" summary="Contents"><tr><td><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class='toclevel-1'><a href="Swann_Interface.html#Swan_Interface_Process"><span class="tocnumber">1</span> <span class="toctext">Swan Interface Process</span></a>
<ul>
<li class='toclevel-2'><a href="Swann_Interface.html#Allocate_Proposal_Numbers"><span class="tocnumber">1.1</span> <span class="toctext">Allocate Proposal Numbers</span></a></li>
<li class='toclevel-2'><a href="Swann_Interface.html#Send_Proposals"><span class="tocnumber">1.2</span> <span class="toctext">Send Proposals</span></a></li>
<li class='toclevel-2'><a href="Swann_Interface.html#Receive_Policies"><span class="tocnumber">1.3</span> <span class="toctext">Receive Policies</span></a></li>
<li class='toclevel-2'><a href="Swann_Interface.html#System_Notes"><span class="tocnumber">1.4</span> <span class="toctext">System Notes</span></a></li>
</ul>
</li>
</ul>
</td></tr></table><script type="text/javascript"> if (window.showTocToggle) { var tocShowText = "show"; var tocHideText = "hide"; showTocToggle(); } </script>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="https://help.catch-e.net.au/mediawiki/index.php?title=Swann_Interface&amp;action=edit&amp;section=1" title="Edit section: Swan Interface Process">edit</a>]</div><a name="Swan_Interface_Process"></a><h3>Swan Interface Process</h3>
<p>The Swann Interface is used to send proposals for insurance policies to Swann Insurance's SIS system, and to retrieve the policy documents from Swann once the proposals have been processed.  <a href="./Contracts:Events.html" title="Contracts:Events">Contract events</a> are used to track each stage of the process.
</p><p>This interface replaces Swann's online Activ8 system.
</p><p>Here are the three stages from the view point of a single policy, using the "Tyre and Rim" product as an example:
</p>
<ol><li> <b><a href="Swann_Interface.html#Allocate_Proposal_Numbers" title="">Allocate Proposal Numbers</a></b>: When you "<a href="./Quotes:Buttons.html" title="Quotes:Buttons">Accept</a>" a Quote containing Tyre and Rim Insurance to create an ORDER (contract), a contract event is created containing an allocated proposal number.
</li><li> <b><a href="Swann_Interface.html#Send_Proposals" title="">Send Proposals</a></b>: A scheduled service then sends a proposal document to the SIS system using the allocated proposal number, and creates a second contract event as a record.
</li><li> <b><a href="Swann_Interface.html#Receive_Policies" title="">Receive Policies</a></b>: Another scheduled service retrieves the policy document from the SIS system when available. It also creates a third contract event containing the Policy Number, and the policy document (PDF) as an attachment.<br /><br />
</li></ol>
<div class="floatnone"><span><a href="./Image:Swann_Interface.png.html" class="image" title=""><img src="../../clients/help/wiki/images/c/c1/Swann_Interface.png" alt="" width="836" height="743" longdesc="/mediawiki/index.php/Image:Swann_Interface.png" /></a></span></div>
<p><span class="catch-e_caption"><i><b>Illustration of Swann Events and Interface for a Tyre and Rim policy</b></i></span>
<br /><br />
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="https://help.catch-e.net.au/mediawiki/index.php?title=Swann_Interface&amp;action=edit&amp;section=2" title="Edit section: Allocate Proposal Numbers">edit</a>]</div><a name="Allocate_Proposal_Numbers"></a><h4>Allocate Proposal Numbers</h4>
<p>Swann Insurance will provide you with a predefined range of proposal numbers per product. Catch-e will store these numbers in <i>[gb_controls]</i> during <a href="Swann_Interface_Setup.html" title="Swann Interface Setup">set-up</a>.
</p><p>A proposal number is allocated for each insurance product contained in the accepted quote. These are stored in Contract Events when you "<a href="./Quotes:Buttons.html" title="Quotes:Buttons">Accept</a>" a quote.  The event code SWANTRPN is used for Tyre and Rim Insurance and SWANEWPN is for Extended Warranty Insurance. You'll see these listed in the "Type" filter on the <a href="./Contracts:Events.html" title="Contracts:Events">Contract / Events</a> screen.
</p><p><a href="./Image:Info.png.html" class="image" title="Image:info.png"><img src="../../clients/help/wiki/images/b/b3/Info.png" alt="Image:info.png" width="30" height="30" longdesc="/mediawiki/index.php/Image:Info.png" /></a> Catch-e Support will be alerted when there are only 200 proposal numbers left!
<br /><br />
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="https://help.catch-e.net.au/mediawiki/index.php?title=Swann_Interface&amp;action=edit&amp;section=3" title="Edit section: Send Proposals">edit</a>]</div><a name="Send_Proposals"></a><h4>Send Proposals</h4>
<p>The scheduler runs a daily (typically) service called <a href="./Fm::swann::exportProposals().html" title="Fm::swann::exportProposals()">exportProposals</a>.  This service builds a list of contracts that have Tyre and Rim proposals ready to be sent to Swann based on the following criteria:
</p>
<ul><li> A Contract Event exists for SWANTRPN (proposal number allocated).
</li><li> A Contract Event does not exist for SWANTRPS (proposal sent).
</li><li> A Reg No, Finance Start date, and VIN number have been assigned to the Contract.
</li></ul>
<p>A proposal document is created for the first Contract in the list.  If the proposal document passes Swann's validation rules, it is sent to Swann Insurance's SIS system, and a Contract Event (SWANTRPS) is created. 
</p><p>If the proposal document fails any of the checks (usually because of missing data), the proposal document is not sent, and an error is added to the exceptions report. At the end of processing, the exceptions report is sent as a CSV attachment to the recipients in the Schedule Job. A typical entry looks like this:
</p>
<pre>
Contract ID, Proposal Number, Data Source, Field, Error
100255, 19883793, driver, salutation, is empty
</pre>
<p>In this case the salutation field for the driver belonging to this contract (100255) has not been set. See the validation rules on the <a href="./Swann_Interface:Tyre_And_Rim.html" title="Swann Interface:Tyre And Rim">Tyre and Rim</a> page.<br />
</p><p>The remainder of the contracts in the list are processed in the same way.
</p>
<table style="border-collapse: collapse; width: 100%; background: #ffd7d7; border: 1px solid silver;">

<tr>
<td width="15%" align="left"> <a href="./Image:Warning.png.html" class="image" title=""><img src="../../clients/help/wiki/images/c/cb/Warning.png" alt="" width="30" height="30" longdesc="/mediawiki/index.php/Image:Warning.png" /></a> &nbsp;&nbsp;Swann process these proposals at 4:15pm every day so you should set the time for this scheduled service accordingly.  The default is 3:30pm.
</td></tr></table>
<p><br />
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="https://help.catch-e.net.au/mediawiki/index.php?title=Swann_Interface&amp;action=edit&amp;section=4" title="Edit section: Receive Policies">edit</a>]</div><a name="Receive_Policies"></a><h4>Receive Policies</h4>
<p>The scheduler runs a service once a day (typically) called <a href="./Fm::swann::importPolicies().html" title="Fm::swann::importPolicies()">importPolicies</a>. This service gets any new policy documents that have been issued by SIS.  For each policy document it creates a Contact Event with an event code of SWANTRPR.  The Contract Event stores the policy number and the policy document (PDF) as an attachment.
</p><p>It locates each associated Contract by searching the Contract Events for the proposal number.  The proposal number is supplied with the policy document. If no matching Contract can be found, an entry is made in an exception report.  This exception report is emailed as a CSV attachment to the recipients in the Schedule Job.
</p><p>The exception report looks like this:
</p>
<pre>
Contract ID, Proposal Number, Error
,19883793,missing contract event
</pre>
<p><a href="./Image:Info.png.html" class="image" title="Image:info.png"><img src="../../clients/help/wiki/images/b/b3/Info.png" alt="Image:info.png" width="30" height="30" longdesc="/mediawiki/index.php/Image:Info.png" /></a> When the error "SWAN_PS contract even has not been created" appears on the exception report, the following steps must be followed:
</p><p>1. Go to the contract id in Catch-e specifically created to solve this issue.  If this is the first time the error has appeared, then a 'dummy' contract must be created in Catch-e, as per normal <a href="Workflow_Contract_setupnoquote.html" title="Workflow Contract setupnoquote">Setting up a new Contract</a> guidelines.  Select an easily referenced registration number that can be remembered by all internal users.
</p><p>2. Create a new <a href="./Contracts:Events.html" title="Contracts:Events">Contract Event</a>, dependant on the insurance product, as follows;
</p>
<ul><li> SWANEWPN - Swann Extended Warranty Proposal Number 
</li><li> SWANTRPN - Swann Tyre &amp; Rim Proposal Number
</li><li> SWANWAPN - Swann  Walkaway Proposal Number
</li></ul>
<p>Under the section titled "Proposal Number" enter the Proposal Number of the error record to be fixed.
</p><p>3. When the <a href="./Fm::swann::importPolicies().html" title="Fm::swann::importPolicies()">importPolicies</a> process runs again, the above process will have assisted in two things.
</p>
<ul><li> The error message will no longer appear on the exception report <br />
</li><li> A Policy Received (PR) Event will have been created against the 'dummy' contract.
</li></ul>
<p>4. Reference the Contracts / Events Tab of the 'dummy' contract
</p><p>5. Find the relevant Policy Received (PR) Event and open the attached Policy Document
</p><p>6. This then allows you to;
</p>
<ul><li> See the Registration Number in the Policy Document
</li><li> Reference that Registration Number to it's true Contract in Catch-e and create the PR event in Contracts / Events, with the relevant Policy Document attached.
</li></ul>
<p><br /><br />
</p>
<table style="border-collapse: collapse; width: 100%; background: #ffd7d7; border: 1px solid silver;">

<tr>
<td width="15%" align="left"> <a href="./Image:Warning.png.html" class="image" title=""><img src="../../clients/help/wiki/images/c/cb/Warning.png" alt="" width="30" height="30" longdesc="/mediawiki/index.php/Image:Warning.png" /></a> &nbsp;&nbsp;Swann issue these policies at 5:15pm every day so you should set the time for this scheduled service accordingly.  The default is 7:00pm.
</td></tr></table>
<hr />
<p><br /><br />
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="https://help.catch-e.net.au/mediawiki/index.php?title=Swann_Interface&amp;action=edit&amp;section=5" title="Edit section: System Notes">edit</a>]</div><a name="System_Notes"></a><h4>System Notes</h4>
<p><small>
</p>
<ul><li> 5746: importPolices can't import Policy. Live 23/04/2012
</li></ul>
<p></small>
</p><div class="printfooter">
Retrieved from "<a href="Swann_Interface.html">https://help.catch-e.net.au/mediawiki/index.php/Swann_Interface</a>"</div>
						<!-- end content -->
			<div class="visualClear"></div>
		</div>
	</div>
		</div>
		<div id="column-one">
	<div id="p-cactions" class="portlet">
		<h5>Views</h5>
		<ul>
		</ul>
	</div>
	<div class="portlet" id="p-personal">
		<h5>Personal tools</h5>
		<div class="pBody">
			<ul>
				<li id="pt-login"><a href="https://help.catch-e.net.au/mediawiki/index.php?title=Special:Userlogin&amp;returnto=Swann_Interface">Log in / create account</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-logo">
		<a style="background-image: url(../../clients/help/wiki/common/images/logo.gif);" href="Main_Page.html" title="Main Page"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
	<div id="p-search" class="portlet">
		<h5><label for="searchInput">Search</label></h5>
		<div id="searchBody" class="pBody">
			<form action="./Special:Search.html" id="searchform"><div>
				<input id="searchInput" name="search" type="text" accesskey="f" value="" />
				<input type='submit' name="go" class="searchButton" id="searchGoButton"	value="Go" />&nbsp;
				<input type='submit' name="fulltext" class="searchButton" value="Search" />
			</div></form>
		</div>
	</div>
	<div class="portlet" id="p-tb">
		<h5>Toolbox</h5>
		<div class="pBody">
			<ul>
				<li id="t-whatlinkshere"><a href="./Special:Whatlinkshere/Swann_Interface.html">What links here</a></li>
				<li id="t-print"><a href="https://help.catch-e.net.au/mediawiki/index.php?title=Swann_Interface&amp;printable=yes">Printable version</a></li>			</ul>
		</div>
	</div>

		</div><!-- end of the left (by default at least) column -->
			<div class="visualClear"></div>
			<div id="footer">
				<div id="f-poweredbyico"><a href="http://www.mediawiki.org/"><img src="../skins/common/images/poweredby_mediawiki_88x31.png" alt="MediaWiki" /></a></div>
&copy; 2025 Catch-e Pty Ltd			<ul id="f-list">
				<li id="privacy"><a href="./Help_wiki:Privacy_policy.html" title="Help wiki:Privacy policy">Privacy policy</a></li>
				<li id="disclaimer"><a href="./Help_wiki:General_disclaimer.html" title="Help wiki:General disclaimer">Disclaimers</a></li>
			</ul>
		</div>
	<script type="text/javascript"> if (window.runOnloadHook) runOnloadHook();</script>
</div>
<!-- Served by 521efbccd3b4 in 0.09 secs. -->
</body></html>
