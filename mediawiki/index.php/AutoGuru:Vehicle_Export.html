<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta name="keywords" content="AutoGuru:Vehicle Export,AutoGuru,AutoGuru:interfaceQuery,Autoguru contract exceptions,Contract Types:Details,Contracts:Contract,Contracts:Header,Contracts:Vehicle,Main Page,Posting Classes,Scheduler Job Types" />
<link rel="shortcut icon" href="../../favicon.ico" />
		<title>AutoGuru:Vehicle Export - Help wiki</title>
		<style type="text/css" media="screen,projection">/*<![CDATA[*/ @import "../skins/catche/main.css%3F7.css"; /*]]>*/</style>
		<link rel="stylesheet" type="text/css" media="print" href="../skins/common/commonPrint.css" />
		<!--[if lt IE 5.5000]><style type="text/css">@import "/mediawiki/skins/catche/IE50Fixes.css";</style><![endif]-->
		<!--[if IE 5.5000]><style type="text/css">@import "/mediawiki/skins/catche/IE55Fixes.css";</style><![endif]-->
		<!--[if IE 6]><style type="text/css">@import "/mediawiki/skins/catche/IE60Fixes.css";</style><![endif]-->
		<!--[if IE 7]><style type="text/css">@import "/mediawiki/skins/catche/IE70Fixes.css?1";</style><![endif]-->
		<!--[if lt IE 7]><script type="text/javascript" src="/mediawiki/skins/common/IEFixes.js"></script>
		<meta http-equiv="imagetoolbar" content="no" /><![endif]-->
		<script type="text/javascript">var skin = 'catche';var stylepath = '/mediawiki/skins';</script>
		<script type="text/javascript" src="../skins/common/wikibits.js"><!-- wikibits js --></script>
		<script type="text/javascript" src="../index.php%3Ftitle=-&amp;action=raw&amp;gen=js"><!-- site js --></script>
		<style type="text/css">/*<![CDATA[*/
@import "../index.php%3Ftitle=MediaWiki:Common.css&action=raw&ctype=text%252Fcss&smaxage=18000.css";
@import "../index.php%3Ftitle=MediaWiki:Catche.css&action=raw&ctype=text%252Fcss&smaxage=18000.css";
@import "../index.php%3Ftitle=-&action=raw&gen=css&maxage=18000.css";
/*]]>*/</style>
		<!-- Head Scripts -->
		      <style>
        <!--
        .editsection { display: none; }
        -->
      </style>
	</head>
<body  class="ns-0 ltr">
	<div id="globalWrapper">
		<div id="column-content">
	<div id="content">
		<a name="top" id="top"></a>
				<h1 class="firstHeading">AutoGuru:Vehicle Export</h1>
		<div id="bodyContent">
			<h3 id="siteSub">From Help wiki</h3>
			<div id="contentSub"></div>
									<div id="jump-to-nav">Jump to: <a href="./AutoGuru:Vehicle_Export.html#column-one">navigation</a>, <a href="./AutoGuru:Vehicle_Export.html#searchInput">search</a></div>			<!-- start content -->
			<p><a href="Main_Page.html" title="Main Page">Main Page</a> &rarr; <b>Third Party Integrations</b> &rarr; <a href="./Image:Check.png.html" class="image" title="Image:check.png"><img src="../../clients/help/wiki/images/2/2a/Check.png" alt="Image:check.png" width="30" height="30" longdesc="/mediawiki/index.php/Image:Check.png" /></a><a href="AutoGuru.html" title="AutoGuru">AutoGuru</a> &rarr; <a href="./AutoGuru:interfaceQuery.html" title="AutoGuru:interfaceQuery">Autoguru interfaceQuery</a> | <strong>Autoguru daily vehicle file</strong> | <a href="Autoguru_contract_exceptions.html" title="Autoguru contract exceptions">Autoguru contract exceptions</a>
</p>
<hr />
<div class="editsection" style="float:right;margin-left:5px;">[<a href="https://help.catch-e.net.au/mediawiki/index.php?title=AutoGuru:Vehicle_Export&amp;action=edit&amp;section=1" title="Edit section: Overview">edit</a>]</div><a name="Overview"></a><h4>Overview</h4>
<p>Go to the <a href="AutoGuru.html" title="AutoGuru">AutoGuru</a> page for details about all of the jobs, the process and for set-up steps.<br />
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="https://help.catch-e.net.au/mediawiki/index.php?title=AutoGuru:Vehicle_Export&amp;action=edit&amp;section=2" title="Edit section: Business Rules for exporting vehicles (contract and vehicle data) to AutoGuru from Catch-e">edit</a>]</div><a name="Business_Rules_for_exporting_vehicles_.28contract_and_vehicle_data.29_to_AutoGuru_from_Catch-e"></a><h3>Business Rules for exporting vehicles (contract and vehicle data) to AutoGuru from Catch-e</h3>
<p>Records are exported via scheduled <a href="Scheduler_Job_Types.html#AutoGuru" title="Scheduler Job Types"> AutoGuru</a> jobs.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="https://help.catch-e.net.au/mediawiki/index.php?title=AutoGuru:Vehicle_Export&amp;action=edit&amp;section=3" title="Edit section: Selection Criteria">edit</a>]</div><a name="Selection_Criteria"></a><h4>Selection Criteria</h4>
<ol><li> <a href="./Contract_Types:Details.html" title="Contract Types:Details">Contract Types / Details</a> "Autoguru Export" - is checked 
</li><li> <a href="./Contracts:Vehicle.html" title="Contracts:Vehicle">Contracts / Contract</a> "Reg Number" - is not 'ORDER'
</li><li> <a href="./Contracts:Vehicle.html" title="Contracts:Vehicle">Contracts / Contract</a> "Contract Start" - is today or earlier
</li><li> <a href="./Contracts:Vehicle.html" title="Contracts:Vehicle">Contracts / Contract</a> "Suspend Date" - is blank or after today
</li><li> <a href="./Contracts:Vehicle.html" title="Contracts:Vehicle">Contracts / Vehicle</a> "Autoguru Export" - is checked
</li><li> <a href="./Contracts:Vehicle.html" title="Contracts:Vehicle">Contracts / Vehicle</a> "Build Date" is in a suitable report format
</li><li> <a href="./Contracts:Vehicle.html" title="Contracts:Vehicle">Contracts / Vehicle</a> "VIN" - if populated, it is 17 characters long and is not duplicated on another selected contract. It can be blank.
</li><li> <a href="./Contracts:Vehicle.html" title="Contracts:Vehicle">Contracts / Vehicle</a> "Manufacturer Name" - does not contain commas
</li><li> <a href="./Contracts:Vehicle.html" title="Contracts:Vehicle">Contracts / Vehicle</a> "Model Name" - does not contain commas
</li></ol>
<p><br /><br />
Odometer, Expenses and Budgets data are selected based on following conditions 
</p>
<ol><li> <b>Odometer:</b> A valid Odometer record with [fm_maintenance]status_flag = 'posted' or 'history-only'
</li><li> <b>Expenses:</b> An expense record with [fm_maintenance]status_flag = 'posted' or 'history-only' AND linked [gl_posting_classes]1link_export_flag = 'yes'
</li><li> <b>Budgets:</b> A budget record with [fm_contract_budgets]status_flag = 'posted' AND [fm_contract_budgets]billing_date on or before end of current month AND linked [gl_posting_classes]1link_export_flag = 'yes'<br /><br />
</li></ol>
<table class="catch-e" style="border-collapse: collapse; width: 100%;">
<tr>
<th width="10%" align="left">AutoGuru Field </th><th width="70%" align="left">Data Extraction Rule </th><th width="20%" align="left"> [table]field
</th></tr>
<tr style="background-color: #f9f9f9;">
<td> ContractID </td><td> <b>Contracts</b> "Contract ID"  </td><td> [fm_contracts]contract_id
</td></tr>
<tr style="background-color: #f9f9f9;">
<td> FleetCompanyIdentifier </td><td> If the contract VIN is blank, this field will be populated instead.<br /> This will be the unique marker for the contract in the AutoGuru system.<br /> This means the booking history of these assets won't carry forward if the asset is re-financed in a new contract.<br />
<p>Only allow this if the vehicle VIN is blank because the asset does not have a VIN, or a VIN cannot be provided.  
</p>
</td><td> CONCATENATE('CLIENTNAME','-',<i>[fm_contracts]contract_id</i>)
</td></tr>
<tr style="background-color: #f9f9f9;">
<td> Vehicle Registration Number </td><td> <b>Contracts / Contract</b> "Reg Number" </td><td> [fm_contracts]reg_no
</td></tr>
<tr style="background-color: #f9f9f9;">
<td>VIN Number</td><td> <b>Contracts / Vehicle</b> "VIN"<br />Make sure VIN on  tab is populated with a valid VIN.<br />
<p>If the VIN is invalid, the contract will not be selected in this file.<br /> If the VIN is blank, the FleetCompanyIdentifier will be used to identify the vehicle's maintenance history instead.<br />
<u>If you do not currently have a VIN, but expect to populate this field shortly</u>, do not import this contract into the AutoGuru system until the VIN has been populated.<br /> Edit the VIN field to show an invalid value, such as 'Missing VIN'. This will show up on your exception reports for review. 
</p>
</td><td>  [fm_contracts]vin
</td></tr>
<tr style="background-color: #f9f9f9;">
<td>Year</td><td> <b>Contracts / Vehicle</b> "Build Date" - the last 4 digits entered here are shown as the year.<br /> The "Build Date" is normally entered with a Month and Year.<br /> Any style that holds the Year at the end of the field is fine, or the field can be left blank.<br /> E.g. 8/2024, 08/2024, 8-2024, 8 2024, or 2024.   </td><td> SUBSTRING([fm_contracts]build_date, -4, 4)
</td></tr>
<tr style="background-color: #f9f9f9;">
<td> Make </td><td> <b>Contracts / Vehicle</b> "Manufacturer Name". The field cannot contain commas.  </td><td> [fm_contracts]manufacturer_name
</td></tr>
<tr style="background-color: #f9f9f9;">
<td> Model </td><td> <b>Contracts / Vehicle</b> "Model Name". The field cannot contain commas. </td><td> [fm_contracts]model_name
</td></tr>
<tr style="background-color: #f9f9f9;">
<td>State/Province </td><td> <b>Contracts / Vehicle</b> "Rego State" </td><td> [fm_contracts]reg_state
</td></tr>
<tr style="background-color: #f9f9f9;">
<td>Odometer Last Read Value</td><td>Latest valid <b>Contracts / Maintenance</b> "Odo", or if there are none, <b>Contracts / Vehicle</b> "Start Odometer" is shown.  </td><td> [fm_maintenance]odometer<br />[fm_contracts]start_odometer
</td></tr>
<tr style="background-color: #f9f9f9;">
<td> Maintenance Limit </td><td> AutoGuru rules for this field are as follows:
<dl><dd> Set as $0 if you want every job top be  marked as Requires HA.
</dd><dd> Set as null or blank if you want no limit, i.e. no job is referred to HA. 
</dd><dd> Set a specific maintenance limit if you want FleetGuru to recommend the Fleet Controller seek HA approval from the client for anything over that limit.
</dd></dl>
<p>Report rules are as follows:<br />
1. If <b>Contract Types / Details</b> "Group" is ‘Novated’, then show the field as blank<br />
2. If <b>Contracts / Vehicle</b> “Approval Limit” is populated, show this<br />
3. If <b>Clients / Approval Defaults</b> “Credit Limit”  is populated, show this<br />
4. Otherwise, show the field as blank.
</p>
</td><td>
</td></tr>
<tr style="background-color: #f9f9f9;">
<td>Service Allowed</td><td>T (True). This is a hard-coded values. It can be set as F (False).  </td><td>
</td></tr>
<tr style="background-color: #f9f9f9;">
<td>Repair Allowed</td><td>T (True). This is a hard-coded values. It can be set as F (False).  </td><td>
</td></tr>
<tr style="background-color: #f9f9f9;">
<td>Tyre Allowed</td><td>T (True). This is a hard-coded values. It can be set as F (False).  </td><td>
</td></tr>
<tr style="background-color: #f9f9f9;">
<td>Lease Type</td><td> If <b>Contract Types / Details</b> "Group" is not 'Lease' or 'Novated', show as '0'<br /> If <b>Contract Types / Details</b> "Group" is 'Lease', show as '1'<br />If <b>Contract Types / Details</b> "Group" is 'Novated', show as '2'  </td><td>
</td></tr>
<tr style="background-color: #f9f9f9;">
<td>DriverBalanceIncGST </td><td> If <b>Contract Types / Details</b> "Group" is not 'Lease' or 'Novated' this is set as 0.00.<br />
<p><b>Calculation:</b> Total of invoiced budgets &minus; Total of maintenance costs
<br /><br />
<b>Record selection</b><br />
</p>
<ol><li> Only budgets and costs where <a href="Posting_Classes.html" title="Posting Classes">Posting Classes</a> "Autoguru Export" is checked are selected (by design, only 'M', 'MAINT', 'S' and 'T' classes should be set to 'yes'.)
</li><li> Invoiced budgets are dated on or before today and are in 'Posted' status
</li><li> Maintenance cost records have not been recharged and are in 'Posted' or 'History Only' status<br />
</li></ol>
</td><td>
</td></tr>
<tr style="background-color: #f9f9f9;">
<td> TyreBalance </td><td> If <b>Contract Types / Details</b> "Group" is 'Novated' show as '99'<br /> Otherwise return "Tyre Allowance" <i>less</i> "Tyres Used".<br /><br /> <a href="./Contracts:Header.html" title="Contracts:Header">Contract Header</a> "Tyres?" shows these two numbers.<br /> <a href="./Contracts:Contract.html" title="Contracts:Contract">Contracts / Contract</a> "Tyre Allowance" holds the allowance count.<br /> Go to the <a href="Tyre_Allowance.html" title="Tyre Allowance">Tyre Allowance</a> page for more details.
</td><td>
</td></tr></table>
<div class="printfooter">
Retrieved from "<a href="./AutoGuru:Vehicle_Export.html">https://help.catch-e.net.au/mediawiki/index.php/AutoGuru:Vehicle_Export</a>"</div>
						<!-- end content -->
			<div class="visualClear"></div>
		</div>
	</div>
		</div>
		<div id="column-one">
	<div id="p-cactions" class="portlet">
		<h5>Views</h5>
		<ul>
		</ul>
	</div>
	<div class="portlet" id="p-personal">
		<h5>Personal tools</h5>
		<div class="pBody">
			<ul>
				<li id="pt-login"><a href="https://help.catch-e.net.au/mediawiki/index.php?title=Special:Userlogin&amp;returnto=AutoGuru:Vehicle_Export">Log in / create account</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-logo">
		<a style="background-image: url(../../clients/help/wiki/common/images/logo.gif);" href="Main_Page.html" title="Main Page"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
	<div id="p-search" class="portlet">
		<h5><label for="searchInput">Search</label></h5>
		<div id="searchBody" class="pBody">
			<form action="./Special:Search.html" id="searchform"><div>
				<input id="searchInput" name="search" type="text" accesskey="f" value="" />
				<input type='submit' name="go" class="searchButton" id="searchGoButton"	value="Go" />&nbsp;
				<input type='submit' name="fulltext" class="searchButton" value="Search" />
			</div></form>
		</div>
	</div>
	<div class="portlet" id="p-tb">
		<h5>Toolbox</h5>
		<div class="pBody">
			<ul>
				<li id="t-whatlinkshere"><a href="./Special:Whatlinkshere/AutoGuru:Vehicle_Export.html">What links here</a></li>
				<li id="t-print"><a href="https://help.catch-e.net.au/mediawiki/index.php?title=AutoGuru:Vehicle_Export&amp;printable=yes">Printable version</a></li>			</ul>
		</div>
	</div>

		</div><!-- end of the left (by default at least) column -->
			<div class="visualClear"></div>
			<div id="footer">
				<div id="f-poweredbyico"><a href="http://www.mediawiki.org/"><img src="../skins/common/images/poweredby_mediawiki_88x31.png" alt="MediaWiki" /></a></div>
&copy; 2025 Catch-e Pty Ltd			<ul id="f-list">
				<li id="privacy"><a href="./Help_wiki:Privacy_policy.html" title="Help wiki:Privacy policy">Privacy policy</a></li>
				<li id="disclaimer"><a href="./Help_wiki:General_disclaimer.html" title="Help wiki:General disclaimer">Disclaimers</a></li>
			</ul>
		</div>
	<script type="text/javascript"> if (window.runOnloadHook) runOnloadHook();</script>
</div>
<!-- Served by 521efbccd3b4 in 1.10 secs. -->
</body></html>
