<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta name="keywords" content="Vehicle Balance with Transactions Set-up,Vehicle Balance with Transactions Set-up,Balance Legacy,Balance with Transactions,Catch-e support,Claims History,Contracts:FBT,Driver FBT Report,Driver Portal,Driver Portal Setup,Funds Check" />
<link rel="shortcut icon" href="../../favicon.ico" />
		<title>Vehicle Balance with Transactions Set-up - Help wiki</title>
		<style type="text/css" media="screen,projection">/*<![CDATA[*/ @import "../skins/catche/main.css%3F7.css"; /*]]>*/</style>
		<link rel="stylesheet" type="text/css" media="print" href="../skins/common/commonPrint.css" />
		<!--[if lt IE 5.5000]><style type="text/css">@import "/mediawiki/skins/catche/IE50Fixes.css";</style><![endif]-->
		<!--[if IE 5.5000]><style type="text/css">@import "/mediawiki/skins/catche/IE55Fixes.css";</style><![endif]-->
		<!--[if IE 6]><style type="text/css">@import "/mediawiki/skins/catche/IE60Fixes.css";</style><![endif]-->
		<!--[if IE 7]><style type="text/css">@import "/mediawiki/skins/catche/IE70Fixes.css?1";</style><![endif]-->
		<!--[if lt IE 7]><script type="text/javascript" src="/mediawiki/skins/common/IEFixes.js"></script>
		<meta http-equiv="imagetoolbar" content="no" /><![endif]-->
		<script type="text/javascript">var skin = 'catche';var stylepath = '/mediawiki/skins';</script>
		<script type="text/javascript" src="../skins/common/wikibits.js"><!-- wikibits js --></script>
		<script type="text/javascript" src="../index.php%3Ftitle=-&amp;action=raw&amp;gen=js"><!-- site js --></script>
		<style type="text/css">/*<![CDATA[*/
@import "../index.php%3Ftitle=MediaWiki:Common.css&action=raw&ctype=text%252Fcss&smaxage=18000.css";
@import "../index.php%3Ftitle=MediaWiki:Catche.css&action=raw&ctype=text%252Fcss&smaxage=18000.css";
@import "../index.php%3Ftitle=-&action=raw&gen=css&maxage=18000.css";
/*]]>*/</style>
		<!-- Head Scripts -->
		      <style>
        <!--
        .editsection { display: none; }
        -->
      </style>
	</head>
<body  class="ns-0 ltr">
	<div id="globalWrapper">
		<div id="column-content">
	<div id="content">
		<a name="top" id="top"></a>
				<h1 class="firstHeading">Vehicle Balance with Transactions Set-up</h1>
		<div id="bodyContent">
			<h3 id="siteSub">From Help wiki</h3>
			<div id="contentSub"></div>
									<div id="jump-to-nav">Jump to: <a href="Vehicle_Balance_with_Transactions_Set-up.html#column-one">navigation</a>, <a href="Vehicle_Balance_with_Transactions_Set-up.html#searchInput">search</a></div>			<!-- start content -->
			<p><a href="Main_Page.html" title="Main Page">Main Page</a> &rarr; <a href="Driver_Portal.html" title="Driver Portal">Driver Portal</a> &rarr; <a href="View_my_vehicle_balance.html" title="View my vehicle balance">View my vehicle balance</a> &rarr; <a href="Balance_with_Transactions.html" title="Balance with Transactions">with Transactions</a> | <a href="Balance_Legacy.html" title="Balance Legacy">Legacy</a> &rarr; <a href="./Image:Check.png.html" class="image" title="Image:check.png"><img src="../../clients/help/wiki/images/2/2a/Check.png" alt="Image:check.png" width="30" height="30" longdesc="/mediawiki/index.php/Image:Check.png" /></a><a href="Driver_Portal_Setup.html#View_my_vehicle_balance" title="Driver Portal Setup">Set-up</a>  &rarr; <strong>with Transactions Set-up</strong> | <a href="Vehicle_Balance_Legacy_Set-Up.html" title="Vehicle Balance Legacy Set-Up">Legacy Set-Up</a>
</p>
<hr />
<table id="toc" class="toc" summary="Contents"><tr><td><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class='toclevel-1'><a href="Vehicle_Balance_with_Transactions_Set-up.html#Overview"><span class="tocnumber">1</span> <span class="toctext">Overview</span></a></li>
<li class='toclevel-1'><a href="Vehicle_Balance_with_Transactions_Set-up.html#Update_Global_Controls"><span class="tocnumber">2</span> <span class="toctext">Update Global Controls</span></a></li>
<li class='toclevel-1'><a href="Vehicle_Balance_with_Transactions_Set-up.html#Enable_Report_Map_for_Driver_Portal"><span class="tocnumber">3</span> <span class="toctext">Enable Report Map for Driver Portal</span></a></li>
<li class='toclevel-1'><a href="Vehicle_Balance_with_Transactions_Set-up.html#Match_to_Funds_Check_or_Driver_Report"><span class="tocnumber">4</span> <span class="toctext">Match to Funds Check or Driver Report</span></a></li>
<li class='toclevel-1'><a href="Vehicle_Balance_with_Transactions_Set-up.html#Enable_the_Driver_Portal_Reports"><span class="tocnumber">5</span> <span class="toctext">Enable the Driver Portal Reports</span></a></li>
<li class='toclevel-1'><a href="Vehicle_Balance_with_Transactions_Set-up.html#Configure_the_Driver_Portal_Reports"><span class="tocnumber">6</span> <span class="toctext">Configure the Driver Portal Reports</span></a></li>
<li class='toclevel-1'><a href="Vehicle_Balance_with_Transactions_Set-up.html#Useful_Queries"><span class="tocnumber">7</span> <span class="toctext">Useful Queries</span></a></li>
</ul>
</td></tr></table><script type="text/javascript"> if (window.showTocToggle) { var tocShowText = "show"; var tocHideText = "hide"; showTocToggle(); } </script>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="https://help.catch-e.net.au/mediawiki/index.php?title=Vehicle_Balance_with_Transactions_Set-up&amp;action=edit&amp;section=1" title="Edit section: Overview">edit</a>]</div><a name="Overview"></a><h4>Overview</h4>
<p>Below are the set-up details for the Vehicle Balance screen when you are using the <a href="Vehicle_Balance_with_Transactions.html" title="Vehicle Balance with Transactions">with Transactions</a> presentation.<br /> Discuss the set-up with your <a href="Catch-e_support.html" title="Catch-e support">Account Manager</a> who will to adjust the configurations to suit your preferences.<br />
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="https://help.catch-e.net.au/mediawiki/index.php?title=Vehicle_Balance_with_Transactions_Set-up&amp;action=edit&amp;section=2" title="Edit section: Update Global Controls">edit</a>]</div><a name="Update_Global_Controls"></a><h4>Update Global Controls</h4>
<table class="catch-e" style="border-collapse: collapse; width: 100%;">
<tr>
<th colspan="4"><a href="SETUP.html" title="SETUP">Setup</a> / <a href="Reference_Data.html" title="Reference Data">Reference Data</a> &rarr; <a href="Global_Controls.html" title="Global Controls">gb_controls</a>
</th></tr>
<tr>
<th width="5%" align="left">Module</th><th width="20%" align="left">Name</th><th width="45%" align="left">Comment</th><th width="30%" align="left">Default Value
</th></tr>
<tr>
<td> gb </td><td> driver_portal_hide_funds_summary </td><td> This <a href="Global_Controls.html" title="Global Controls">control</a> is set to 'no' by default.<br /> Set to 'yes' to hide the <a href="View_my_vehicle_balance.html" title="View my vehicle balance">View my vehicle balance</a> <b>Funds Summary</b> section. </td><td> no
</td></tr>

<tr>
<td>gb</td><td>driver_portal_use_gl_posting_map_reporting</td><td>
<p><a href="Vehicle_Balance_with_Transactions.html" title="Vehicle Balance with Transactions">Transactions</a>: 'yes'<br />
Set this to 'yes' to use the <a href="Vehicle_Balance_with_Transactions.html" title="Vehicle Balance with Transactions">with Transactions</a> option.<br /> Go to the <strong>with Transactions Set-up</strong> page for the detailed set-up steps for this option.<br />
</p><p><a href="Vehicle_Balance_Legacy.html" title="Vehicle Balance Legacy">Legacy</a>: 'no'<br />
Set this to 'no' to use the <a href="Vehicle_Balance_Standard.html" title="Vehicle Balance Standard">Legacy</a> option. <br /> This option uses the same report generation rules as the <a href="Driver_FBT_Report.html" title="Driver FBT Report">Driver Report</a> and delivers the same amounts and balances.<br /> If you navigate to the <a href="./Contracts:FBT.html" title="Contracts:FBT">Contracts / FBT</a> tab and <b>Print</b> the 'Standard' report, you'll get a similar layout and the same balances.
</p>
</td><td> yes
</td></tr>

<tr>
<td>gb</td><td>driver_portal_view_my_balance_mode</td><td> 'show'<br /> Use this setting to show the the <a href="View_my_vehicle_balance.html" title="View my vehicle balance">View my vehicle balance</a> button on the <a href="Driver_Portal_Setup.html" title="Driver Portal Setup">Driver Portal</a> Home Screen.<br />
<p>'hide_funds_available_balance'<br /> If you are using the <a href="Vehicle_Balance_with_Transactions.html" title="Vehicle Balance with Transactions">with Transactions</a> option, use this setting to hide the <b>Funds available to claim</b> row and amount on the screen.<br />
</p><p>'hide'<br /> Use this setting to hide the <a href="View_my_vehicle_balance.html" title="View my vehicle balance">View my vehicle balance</a> button on the <a href="Driver_Portal_Setup.html" title="Driver Portal Setup">Driver Portal</a> Home Screen.
</p>
</td><td> show
</td></tr>
<tr>
<td>gb</td><td>driver_portal_view_my_balance_text</td><td>Customise the text that is displayed on the screen.<br /> Consider this relative to the data selections you are using for this feature. </td><td>Notes: <br /> Funds received are those processed at report date <br /> Pending and requested claims are not included
</td></tr>

</table>
<p><br />
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="https://help.catch-e.net.au/mediawiki/index.php?title=Vehicle_Balance_with_Transactions_Set-up&amp;action=edit&amp;section=3" title="Edit section: Enable Report Map for Driver Portal">edit</a>]</div><a name="Enable_Report_Map_for_Driver_Portal"></a><h4>Enable Report Map for Driver Portal</h4>
<p>This screen uses the <a href="Funds_Check_Setup.html" title="Funds Check Setup">Funds Check</a> report map. If this has not been set-up, you need to do this first.<br />
</p><p>Check and create a record in the <i>[gl_posting_map_reporting]</i> table where <i>type</i> = 'driver_portal'. This enables the reporting functions used here.
</p><p>Use the <a href="Vehicle_Balance_with_Transactions_Set-up.html#Useful_Queries" title="Vehicle Balance with Transactions Set-up">useful queries</a> on this page to review and create an upload file if needed.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="https://help.catch-e.net.au/mediawiki/index.php?title=Vehicle_Balance_with_Transactions_Set-up&amp;action=edit&amp;section=4" title="Edit section: Match to Funds Check or Driver Report">edit</a>]</div><a name="Match_to_Funds_Check_or_Driver_Report"></a><h4>Match to Funds Check or Driver Report</h4>
<p>Depending on your preferences, <i>[gl_reporting_statuses]</i> can be set to match either the <a href="Funds_Check.html" title="Funds Check">Funds Check</a> or the <a href="Driver_FBT_Report.html" title="Driver FBT Report">Driver Report</a>.<br /> The system is set to match the <a href="Funds_Check.html" title="Funds Check">Funds Check</a> by default.<br />
</p><p>Use the <a href="Vehicle_Balance_with_Transactions_Set-up.html#Useful_Queries" title="Vehicle Balance with Transactions Set-up">useful queries</a> on this page to review the entries in the <i>[gl_reporting_statuses]</i> table and update to to match your preferred choice.<br /> Sample updates are shown below.<br />
</p>
<table class="catch-e" style="border-collapse: collapse; width: 100%;">
<tr>
<th> Funds Check </th><th> Driver Report
</th></tr>
<tr>
<td> <a href="./Image:Vehicle_Balance_Funds_Check.png.html" class="image" title="Image:Vehicle Balance Funds Check.png"><img src="../../clients/help/wiki/images/d/d3/Vehicle_Balance_Funds_Check.png" alt="Image:Vehicle Balance Funds Check.png" width="500" height="174" longdesc="/mediawiki/index.php/Image:Vehicle_Balance_Funds_Check.png" /></a> </td><td> <a href="./Image:Vehicle_Balance_Driver_Report.png.html" class="image" title="Image:Vehicle Balance Driver Report.png"><img src="../../clients/help/wiki/images/a/ac/Vehicle_Balance_Driver_Report.png" alt="Image:Vehicle Balance Driver Report.png" width="488" height="121" longdesc="/mediawiki/index.php/Image:Vehicle_Balance_Driver_Report.png" /></a>
</td></tr>
</table>
<p><br />
</p>
<table class="catch-e" style="border-collapse: collapse; width: 100%;">
<tr>
<th>Field</th><th> Value </th><th>Comments
</th></tr>
<tr>
<td class="catch-e_th_sub" colspan="3">gl_reporting_status
</td></tr>
<tr>
<td>reporting_status_id</td><td>  Num </td><td>System allocated unique identifier.
</td></tr>
<tr>
<td>type </td><td> Text </td><td> Set as 'driver_portal' to link the set records to this feature.
</td></tr>
<tr>
<td>module</td><td> Enum </td><td> Enter the module that the filter record is for.
<ol><li> billing - [fm_billings]
</li><li> budgets - <i>[fm_contract_budgets]</i> records that are 'posted' will come into the <b>Actual</b> column of the report when the <i>[gl_reporting_groups]report_budgets_as_actuals</i> field is set to 'yes' for the linked category.
</li><li> maintenance - [fm_maintenance]
</li><li> payments - [fm_contract_payment_structure] and subsidiary tables
</li><li> receipts - [sl_receipts] and subsidiary tables
</li></ol>
</td></tr>
<tr>
<td>status</td><td> Enum </td><td> Choose each status that you want to select in the feature and it's reports.
<ol><li> history-only - only used in the maintenance table
</li><li> history-only-exclude-recharges - only used in the maintenance table
</li><li> on-hold - only used in payments
</li><li> pending
</li><li> pending-exclude-reimbursements - only used in the maintenance table. Chose this instead of 'pending' if you want to exclude pending reimbursements from the selected records.  These transactions are available for drivers and employees to view in the <a href="Claims_History.html" title="Claims History">View submitted vehicle claims</a> screen. In the <a href="Funds_Check.html" title="Funds Check">Funds Check</a> they are shown in the <b>Pending Reimbursements</b> section of the screen. They will be included when they have been posted.
</li><li> posted
</li><li> recharge - only used in the maintenance table
</li></ol>
</td></tr>
<tr>
<td>to_date</td><td> Enum </td><td> Choose a end date for the selected records.
<ol><li> all - there will be no date limit on the records. I.e. future-dated transactions would be included.
</li><li> curdate - all records dated on or before today will be selected
</li><li> eom - all records dated on or before the last day of the current month will be selected 
</li></ol>
</td></tr></table>
<p><br />
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="https://help.catch-e.net.au/mediawiki/index.php?title=Vehicle_Balance_with_Transactions_Set-up&amp;action=edit&amp;section=5" title="Edit section: Enable the Driver Portal Reports">edit</a>]</div><a name="Enable_the_Driver_Portal_Reports"></a><h4>Enable the Driver Portal Reports</h4>
<p>Use the <a href="Vehicle_Balance_with_Transactions_Set-up.html#Useful_Queries" title="Vehicle Balance with Transactions Set-up">useful queries</a> on this page to check and update the related <i>[gb_report_queries]</i> records to be active.<br />
The two records where <i>name</i> = 'driver_portal' should be set to have <i>status_flag</i> = 'active'.<br />
One report is can be generated from the <a href="./Contracts:FBT.html" title="Contracts:FBT">Contracts / FBT</a> tab as 'Driver Portal'. This is for internal users to see the same records as the driver sees in their report.<br />
The other report is used to generate the balance transaction screens and report drivers see in the Driver and Employee Portal.<br /><br />
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="https://help.catch-e.net.au/mediawiki/index.php?title=Vehicle_Balance_with_Transactions_Set-up&amp;action=edit&amp;section=6" title="Edit section: Configure the Driver Portal Reports">edit</a>]</div><a name="Configure_the_Driver_Portal_Reports"></a><h4>Configure the Driver Portal Reports</h4>
<p>Use the <a href="Vehicle_Balance_with_Transactions_Set-up.html#Useful_Queries" title="Vehicle Balance with Transactions Set-up">useful queries</a> on this page to check and update the driver portal reports to show or hide columns to match your preferred result.<br />
The transaction details need a minimum of the follow four columns displayed to function properly. They are: 
</p>
<ol><li> Date
</li><li> Type
</li><li> Description
</li><li> Amount
</li></ol>
<p>The configuration can be expanded to more columns;
</p>
<ol><li> Posted Date
</li><li> Supplier
</li><li> Reference
</li><li> Odometer
</li><li> Valid Reading
</li><li> Status
</li></ol>
<p>The columns you display depend on which report you are aligning with and what level of detail you want to show your Drivers and Employees.<br />
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="https://help.catch-e.net.au/mediawiki/index.php?title=Vehicle_Balance_with_Transactions_Set-up&amp;action=edit&amp;section=7" title="Edit section: Useful Queries">edit</a>]</div><a name="Useful_Queries"></a><h4>Useful Queries</h4>
<pre>
# UPDATE GLOBAL CONTROLS
# Review query only. Update controls in Setup / Reference Data â†’ gb_controls
select module, name, value
from gb_controls where name 
IN ('driver_portal_use_gl_posting_map_reporting'
,'driver_portal_view_my_balance_mode','driver_portal_view_my_balance_text')
;

# ENABLE REPORT MAP FOR DRIVER PORTAL
# Contract Type - check which contract types are mapped for the Driver Portal (should only be novated)
SELECT pm.posting_map_code,pm.posting_map_group,rm.description AS report_map,pmr.type
FROM gl_posting_maps AS pm 
INNER JOIN gl_posting_map_reporting AS pmr ON pm.posting_map_id = pmr.posting_map_id
INNER JOIN gl_reporting_maps AS rm ON rm.reporting_map_id = pmr.reporting_map_id
WHERE pmr.type IN ('funds_check','driver_portal')
ORDER BY pm.posting_map_code,rm.description,pmr.type;

# Create upload file for gl_posting_map_reporting
# Setup / Import Table Data Module - 'gl|General Ledger' Table - 'gl_posting_map_reporting'
SELECT 
'' as posting_map_reporting_id, pmr.posting_map_id, pmr.reporting_map_id, 'driver_portal' AS type
FROM gl_posting_maps AS pm 
INNER JOIN gl_posting_map_reporting AS pmr ON pm.posting_map_id = pmr.posting_map_id
INNER JOIN gl_reporting_maps AS rm ON rm.reporting_map_id = pmr.reporting_map_id
#WHERE pmr.type = 'driver_portal'
WHERE pm.posting_map_group = 'novated' and pmr.type = 'funds_check' 
#and rm.description = 'Standard' # Add in if duplicate report maps exist
ORDER BY pm.posting_map_code,rm.description,pmr.type
;

# MATCH TO FUNDS CHECK OR DRIVER REPORT
# Check the set-up of the transaction selections by status
SELECT * FROM gl_reporting_statuses
ORDER BY module,status,to_date
;

# ENABLE THE DRIVER PORTAL REPORTS
# Check the Report Queries are active (status_flag should be active)
SELECT * from gb_report_queries WHERE name = 'driver_portal'
;

# CONFIGURE THE DRIVER PORTAL REPORTS
# Review the Driver Portal report and show/hide columns
SELECT * from gb_report_queries WHERE name = 'driver_portal' and sub_page IS NULL
;
# Review the Contracts / FBT report and show/hide columns
SELECT * from gb_report_queries WHERE name = 'driver_portal' and sub_page = 'fbt'
;
</pre>

<!-- Saved in parser cache with key help_catch_e_net_au:pcache:idhash:3393-0!1!0!0!!en!2 and timestamp 20251120023532 -->
<div class="printfooter">
Retrieved from "<a href="Vehicle_Balance_with_Transactions_Set-up.html">https://help.catch-e.net.au/mediawiki/index.php/Vehicle_Balance_with_Transactions_Set-up</a>"</div>
						<!-- end content -->
			<div class="visualClear"></div>
		</div>
	</div>
		</div>
		<div id="column-one">
	<div id="p-cactions" class="portlet">
		<h5>Views</h5>
		<ul>
		</ul>
	</div>
	<div class="portlet" id="p-personal">
		<h5>Personal tools</h5>
		<div class="pBody">
			<ul>
				<li id="pt-login"><a href="https://help.catch-e.net.au/mediawiki/index.php?title=Special:Userlogin&amp;returnto=Vehicle_Balance_with_Transactions_Set-up">Log in / create account</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-logo">
		<a style="background-image: url(../../clients/help/wiki/common/images/logo.gif);" href="Main_Page.html" title="Main Page"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
	<div id="p-search" class="portlet">
		<h5><label for="searchInput">Search</label></h5>
		<div id="searchBody" class="pBody">
			<form action="./Special:Search.html" id="searchform"><div>
				<input id="searchInput" name="search" type="text" accesskey="f" value="" />
				<input type='submit' name="go" class="searchButton" id="searchGoButton"	value="Go" />&nbsp;
				<input type='submit' name="fulltext" class="searchButton" value="Search" />
			</div></form>
		</div>
	</div>
	<div class="portlet" id="p-tb">
		<h5>Toolbox</h5>
		<div class="pBody">
			<ul>
				<li id="t-whatlinkshere"><a href="./Special:Whatlinkshere/Vehicle_Balance_with_Transactions_Set-up.html">What links here</a></li>
				<li id="t-print"><a href="https://help.catch-e.net.au/mediawiki/index.php?title=Vehicle_Balance_with_Transactions_Set-up&amp;printable=yes">Printable version</a></li>			</ul>
		</div>
	</div>

		</div><!-- end of the left (by default at least) column -->
			<div class="visualClear"></div>
			<div id="footer">
				<div id="f-poweredbyico"><a href="http://www.mediawiki.org/"><img src="../skins/common/images/poweredby_mediawiki_88x31.png" alt="MediaWiki" /></a></div>
&copy; 2025 Catch-e Pty Ltd			<ul id="f-list">
				<li id="privacy"><a href="./Help_wiki:Privacy_policy.html" title="Help wiki:Privacy policy">Privacy policy</a></li>
				<li id="disclaimer"><a href="./Help_wiki:General_disclaimer.html" title="Help wiki:General disclaimer">Disclaimers</a></li>
			</ul>
		</div>
	<script type="text/javascript"> if (window.runOnloadHook) runOnloadHook();</script>
</div>
<!-- Served by 6a1f7abdc40c in 0.03 secs. -->
</body></html>
