<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta name="keywords" content="1link Data Mapping,1link Interface,FLEET,IMPORT DATA,Importdata:1link Approvals,Importdata:1link Approvals:Setup,Main Page,Technical Information 1Link Interface" />
<link rel="shortcut icon" href="../../favicon.ico" />
		<title>1link Data Mapping - Help wiki</title>
		<style type="text/css" media="screen,projection">/*<![CDATA[*/ @import "../skins/catche/main.css%3F7.css"; /*]]>*/</style>
		<link rel="stylesheet" type="text/css" media="print" href="../skins/common/commonPrint.css" />
		<!--[if lt IE 5.5000]><style type="text/css">@import "/mediawiki/skins/catche/IE50Fixes.css";</style><![endif]-->
		<!--[if IE 5.5000]><style type="text/css">@import "/mediawiki/skins/catche/IE55Fixes.css";</style><![endif]-->
		<!--[if IE 6]><style type="text/css">@import "/mediawiki/skins/catche/IE60Fixes.css";</style><![endif]-->
		<!--[if IE 7]><style type="text/css">@import "/mediawiki/skins/catche/IE70Fixes.css?1";</style><![endif]-->
		<!--[if lt IE 7]><script type="text/javascript" src="/mediawiki/skins/common/IEFixes.js"></script>
		<meta http-equiv="imagetoolbar" content="no" /><![endif]-->
		<script type="text/javascript">var skin = 'catche';var stylepath = '/mediawiki/skins';</script>
		<script type="text/javascript" src="../skins/common/wikibits.js"><!-- wikibits js --></script>
		<script type="text/javascript" src="../index.php%3Ftitle=-&amp;action=raw&amp;gen=js"><!-- site js --></script>
		<style type="text/css">/*<![CDATA[*/
@import "../index.php%3Ftitle=MediaWiki:Common.css&action=raw&ctype=text%252Fcss&smaxage=18000.css";
@import "../index.php%3Ftitle=MediaWiki:Catche.css&action=raw&ctype=text%252Fcss&smaxage=18000.css";
@import "../index.php%3Ftitle=-&action=raw&gen=css&maxage=18000.css";
/*]]>*/</style>
		<!-- Head Scripts -->
		      <style>
        <!--
        .editsection { display: none; }
        -->
      </style>
	</head>
<body  class="ns-0 ltr">
	<div id="globalWrapper">
		<div id="column-content">
	<div id="content">
		<a name="top" id="top"></a>
				<h1 class="firstHeading">1link Data Mapping</h1>
		<div id="bodyContent">
			<h3 id="siteSub">From Help wiki</h3>
			<div id="contentSub"></div>
									<div id="jump-to-nav">Jump to: <a href="1link_Data_Mapping.html#column-one">navigation</a>, <a href="1link_Data_Mapping.html#searchInput">search</a></div>			<!-- start content -->
			<p><a href="Main_Page.html" title="Main Page">Main Page</a> &rarr; <a href="FLEET.html" title="FLEET">Fleet</a> / <a href="IMPORT_DATA.html" title="IMPORT DATA">Import Data</a> &rarr; <a href="./Importdata:1link_Approvals.html" title="Importdata:1link Approvals">1Link Approvals</a> &rarr; <a href="./Image:Check.png.html" class="image" title="Image:check.png"><img src="../../clients/help/wiki/images/2/2a/Check.png" alt="Image:check.png" width="30" height="30" longdesc="/mediawiki/index.php/Image:Check.png" /></a><a href="./Importdata:1link_Approvals:Setup.html" title="Importdata:1link Approvals:Setup">1Link Setup</a> &rarr; <a href="1link_Interface.html" title="1link Interface">1link Interface</a> | <strong>1link Data Mapping</strong> | <a href="Technical_Information_1Link_Interface.html" title="Technical Information 1Link Interface">Technical Information 1Link Interface</a>
</p>
<hr />
<table id="toc" class="toc" summary="Contents"><tr><td><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class='toclevel-1'><a href="1link_Data_Mapping.html#Overview"><span class="tocnumber">1</span> <span class="toctext">Overview</span></a>
<ul>
<li class='toclevel-2'><a href="1link_Data_Mapping.html#1link_URN_to_Variant_Code_Mapping_.28held_in_fm_variant_code_mappings.29"><span class="tocnumber">1.1</span> <span class="toctext">1link URN to Variant Code Mapping (held in fm_variant_code_mappings)</span></a>
<ul>
<li class='toclevel-3'><a href="1link_Data_Mapping.html#URN_to_Redbook_Mapping"><span class="tocnumber">1.1.1</span> <span class="toctext">URN to Redbook Mapping</span></a></li>
<li class='toclevel-3'><a href="1link_Data_Mapping.html#URN_to_NVIC_Mapping"><span class="tocnumber">1.1.2</span> <span class="toctext">URN to NVIC Mapping</span></a></li>
</ul>
</li>
<li class='toclevel-2'><a href="1link_Data_Mapping.html#1link_Product_Code_to_Catch-E_VMRS_.2B_Posting_Class_code_Mapping_.28held_in_fm_interface_vmrs_mappings.29"><span class="tocnumber">1.2</span> <span class="toctext">1link Product Code to Catch-E VMRS + Posting Class code Mapping (held in fm_interface_vmrs_mappings)</span></a></li>
</ul>
</li>
</ul>
</td></tr></table><script type="text/javascript"> if (window.showTocToggle) { var tocShowText = "show"; var tocHideText = "hide"; showTocToggle(); } </script>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="https://help.catch-e.net.au/mediawiki/index.php?title=1link_Data_Mapping&amp;action=edit&amp;section=1" title="Edit section: Overview">edit</a>]</div><a name="Overview"></a><h3>Overview</h3>
<p>This page describes mapping required between various 1link and Catch-E codes for 1link import process to work properly.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="https://help.catch-e.net.au/mediawiki/index.php?title=1link_Data_Mapping&amp;action=edit&amp;section=2" title="Edit section: 1link URN to Variant Code Mapping (held in fm_variant_code_mappings)">edit</a>]</div><a name="1link_URN_to_Variant_Code_Mapping_.28held_in_fm_variant_code_mappings.29"></a><h4>1link URN to Variant Code Mapping (held in fm_variant_code_mappings)</h4>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="https://help.catch-e.net.au/mediawiki/index.php?title=1link_Data_Mapping&amp;action=edit&amp;section=3" title="Edit section: URN to Redbook Mapping">edit</a>]</div><a name="URN_to_Redbook_Mapping"></a><h5>URN to Redbook Mapping</h5>
<p>@TODO
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="https://help.catch-e.net.au/mediawiki/index.php?title=1link_Data_Mapping&amp;action=edit&amp;section=4" title="Edit section: URN to NVIC Mapping">edit</a>]</div><a name="URN_to_NVIC_Mapping"></a><h5>URN to NVIC Mapping</h5>
<p>@TODO
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="https://help.catch-e.net.au/mediawiki/index.php?title=1link_Data_Mapping&amp;action=edit&amp;section=5" title="Edit section: 1link Product Code to Catch-E VMRS + Posting Class code Mapping (held in fm_interface_vmrs_mappings)">edit</a>]</div><a name="1link_Product_Code_to_Catch-E_VMRS_.2B_Posting_Class_code_Mapping_.28held_in_fm_interface_vmrs_mappings.29"></a><h4>1link Product Code to Catch-E VMRS + Posting Class code Mapping (held in fm_interface_vmrs_mappings)</h4>
<p>This section describes how 1link product codes are mapped.
</p><p>1. Determine what new mapping codes to be added from 1link Product Catalogue - Catche_YYYY-MM-DD_xxxx.txt (Tab separated) by dumping it into a temp table and doing a query against fm_interface_vmrs_mappings and fm_vmrs_codes.
</p><p><br />
File Sent by 1link&nbsp;: <span style="text-decoration: underline;"><b>1link Product Catalogue - Catche_YYYY-MM-DD_xxxx.txt</b></span> (Tab separated) 
</p><p><br />
<b>File Structure</b><br />
Field 1 - Our Unique Code.<br />
Field 2 - OEM Product Code.<br />
Field 3 - Product Type (1 = Tyre Service, 2-12 = Tyre, 13-26 = FastFit Products)<br />
</p>
<dl><dd> 1 = 1link (NB: used only by epyx)
</dd><dd> 2 = Car Tyre All Year
</dd><dd> 3 = LCV Tyre All Year
</dd><dd> 4 = Car Tyre Winter
</dd><dd> 5 = LCV Tyre Winter
</dd><dd> 6 = Car Tyre Summer
</dd><dd> 7 = LCV Tyre Summer
</dd><dd> 8 = Wheel Rim Steel
</dd><dd> 9 = Wheel Rim Alloy
</dd><dd> 10 = Off road All Year
</dd><dd> 11 = Off road Summer
</dd><dd> 12 = Off road Winter
</dd><dd> 13 = Air and Ventilation
</dd><dd> 14 = Batteries
</dd><dd> 15 = Brakes
</dd><dd> 16 = Cooling system
</dd><dd> 17 = Engine
</dd><dd> 18 = Exhausts
</dd><dd> 19 = Fuel System
</dd><dd> 20 = Globes
</dd><dd> 21= Suspension
</dd><dd> 22 = Transmission
</dd><dd> 23 = Windscreens
</dd><dd> 24 = Wipers
</dd><dd> 25 = Tubes
</dd><dd> 26 = Service Charges
</dd></dl>
<dl><dd> Each Product Type maps to a Posting Class Code and a VMRS Code as follows
</dd><dd> 1 = Tyre Service
<dl><dd> Posting Class Code = 'S' (Service)
</dd><dd> VMRS Code = Tyre Services (If you don't have a VMRS code for Tyre Service in fm_vmrs_codes  then you need to create one). Make sure fm_vmrs_codes.action_code <b>NOT</b> tyre_count.
</dd></dl>
</dd></dl>
<dl><dd> 2-12 = Tyre
<dl><dd> Posting Class Code = 'T'  (Tyre)
</dd><dd> VMRS Code = Single Tyre usually 'T1' (If you don't have a VMRS code for Tyre Service in fm_vmrs_codes then you need to create one). Make sure fm_vmrs_codes.action_code =  'tyre_count'. All these product type should usually map to single VMRS Code of T1.
</dd></dl>
</dd></dl>
<dl><dd> 13-26 = FastFit Products
<dl><dd> Posting Class Code = 'M' (Service)
</dd><dd> VMRS Code = Code from fm_vmrs_codes matching 13-26 in list above.  Make sure fm_vmrs_codes.action_code <b>NOT </b> 'tyre_count'. These product codes need to be added to fm_vmrs_codes if not in the table.
</dd></dl>
</dd></dl>
<p>Field 4 - Tyre Brand (e.g. Bridgestone, Dunlop, Goodyear, Continental etc)<br />
Field 5 - Product Description as supplied by the distributor<br />
</p><p><br />
2. Create a temporary table to hold 1link codes from 1link Product Catalogue - Catche_YYYY-MM-DD_xxxx.txt
</p>
<pre>
CREATE TABLE 1link_product_catalogue_mapping_tmp (
  1link_product_code varchar(20) NOT NULL default '',
  OEM_code varchar(20) NOT NULL default '',
  product_type tinyint(4) NOT NULL default '0',
  product_brand varchar(20) NOT NULL default '',
  description varchar(100) NOT NULL default '',
  PRIMARY KEY  (1link_product_code),
  KEY oem_code (OEM_code),
  KEY product_type (product_type)
) ENGINE=MyISAM;
</pre>
<p>3. Dump 1link Product Catalogue - Catche_YYYY-MM-DD_xxxx.txt  into a CSV (fields separated by comma)
</p><p>4. Upload the CSV into 1link_product_catalogue_mapping_tmp using Whole table Import in Catch-E aplication.
</p><p>5. Run  follwoing to determine what new codes need to be added. 
</p>
<pre>
# 1 =  Tyre Service
SELECT t1.*
FROM 1link_product_catalogue_mapping_tmp  t1, fm_vmrs_codes t2, gl_posting_classes t3, fm_interfaces t4
LEFT JOIN fm_interface_vmrs_mappings AS t5 ON t5.product_code = t1.1link_product_code AND t5.interface_id = t4.interface_id
WHERE t4.interface_code = '1link'
-- Replace 'SUND006' with appropriate VMRS Code for Tyre Services
AND t2.vmrs_code = 'SUND006'
-- Replace 'S' with appropriate posting_class_code for Service
AND  t3.posting_class_code = 'S' AND product_type = 1
AND t5.product_code IS NULL;

# 2 - 12 Tyre
SELECT t1.*
FROM 1link_product_catalogue_mapping_tmp  t1, fm_vmrs_codes t2, gl_posting_classes t3, fm_interfaces t4
LEFT JOIN fm_interface_vmrs_mappings AS t5 ON t5.product_code = t1.1link_product_code AND t5.interface_id = t4.interface_id
WHERE t4.interface_code = '1link'
-- Replace 'T1' with appropriate VMRS Code for Single Tyre
AND t2.vmrs_code = 'T1'
-- Replace 'T' with appropriate posting_class_code for Tyre
AND  t3.posting_class_code = 'T' AND product_type BETWEEN 2 AND 12
AND t5.product_code IS NULL;


# 13-26 = FastFit Products
These product codes need to be added to fm_vmrs_codes if not there already.

SELECT @next_id&nbsp;:= unique_id - 1 FROM gb_unique_ids WHERE table_name = 'fm_vmrs_codes';
INSERT INTO fm_vmrs_codes
(vmrs_code_id, vmrs_code, description, invoice_type, quantity, unit_cost, action_code, external_code)
VALUES
(@next_id&nbsp;:= @next_id + 1, 'AIRVENT', 'Air and Ventilation', 'maintenance', 0, 0.00, '', ''),
(@next_id&nbsp;:= @next_id + 1, 'BATTRIES', 'Batteries', 'maintenance', 0, 0.00, '', ''),
(@next_id&nbsp;:= @next_id + 1, 'BRAKES', 'Brakes', 'maintenance', 0, 0.00, '', ''),
(@next_id&nbsp;:= @next_id + 1, 'COOLSYS', 'Cooling system', 'maintenance', 0, 0.00, '', ''),
(@next_id&nbsp;:= @next_id + 1, 'ENGINE', 'Engine', 'maintenance', 0, 0.00, '', ''),
(@next_id&nbsp;:= @next_id + 1, 'EXHAUSTS', 'Exhausts', 'maintenance', 0, 0.00, '', ''),
(@next_id&nbsp;:= @next_id + 1, 'FUELSYS', 'Fuel System', 'maintenance', 0, 0.00, '', ''),
(@next_id&nbsp;:= @next_id + 1, 'GLOBES', 'Globes', 'maintenance', 0, 0.00, '', ''),
(@next_id&nbsp;:= @next_id + 1, 'SUSPNSON', 'Suspension', 'maintenance', 0, 0.00, '', ''),
(@next_id&nbsp;:= @next_id + 1, 'TRNSMSN', 'Transmission', 'maintenance', 0, 0.00, '', ''),
(@next_id&nbsp;:= @next_id + 1, 'WINDSCRN', 'Windscreens', 'maintenance', 0, 0.00, '', ''),
(@next_id&nbsp;:= @next_id + 1, 'WIPERS', 'Wipers', 'maintenance', 0, 0.00, '', ''),
(@next_id&nbsp;:= @next_id + 1, 'TUBES', 'Tubes', 'maintenance', 0, 0.00, '', ''),
(@next_id&nbsp;:= @next_id + 1, 'SRVCHRG', 'Service Charges', 'maintenance', 0, 0.00, '', '');
REPLACE INTO gb_unique_ids VALUES('fm_vmrs_codes', @next_id + 1);

Folloiwng query gives you a list of codes that need to be added into fm_interface_vmrs_mappings. Repeat this with for Product Types 14-26.

SELECT t1.*
FROM 1link_product_catalogue_mapping_tmp  t1, fm_vmrs_codes t2, gl_posting_classes t3, fm_interfaces t4
LEFT JOIN fm_interface_vmrs_mappings AS t5 ON t5.product_code = t1.1link_product_code AND t5.interface_id = t4.interface_id
WHERE t4.interface_code = '1link'
-- Replace 'AIRVENT' with appropriate VMRS Code for Air and Ventilation if a VMRS code already exists with different code
AND t2.vmrs_code = 'AIRVENT'
-- Replace 'M' with appropriate posting_class_code for Maintenance
AND  t3.posting_class_code = 'M' AND product_type = 13
AND t5.product_code IS NULL;

</pre>
<p>6. Run following query in a Script Tab in MySql Query Browser. This query assumes following exist in the DB.
</p>
<pre>
SELECT @interface_vmrs_mapping_id&nbsp;:= unique_id - 1 FROM gb_unique_ids WHERE table_name = 'fm_interface_vmrs_mappings';

# 1 =  Tyre Service
INSERT INTO fm_interface_vmrs_mappings
SELECT @interface_vmrs_mapping_id&nbsp;:= @interface_vmrs_mapping_id + 1, t4.interface_id, t1.1link_product_code, t3.posting_class_id, t2.vmrs_code_id, t1.description,'no','active'
FROM 1link_product_catalogue_mapping_tmp  t1, fm_vmrs_codes t2, gl_posting_classes t3, fm_interfaces t4
LEFT JOIN fm_interface_vmrs_mappings AS t5 ON t5.product_code = t1.1link_product_code AND t5.interface_id = t4.interface_id
WHERE t4.interface_code = '1link'
AND t2.vmrs_code = 'SUND006'
-- Replace 'S' with appropriate posting_class_code for Service
AND  t3.posting_class_code = 'S' AND product_type = 1
AND t5.product_code IS NULL;

# 2 - 12 Tyre
INSERT INTO fm_interface_vmrs_mappings
SELECT @interface_vmrs_mapping_id&nbsp;:= @interface_vmrs_mapping_id + 1, t4.interface_id, t1.1link_product_code, t3.posting_class_id, t2.vmrs_code_id, t1.description,'no','active'
FROM 1link_product_catalogue_mapping_tmp  t1, fm_vmrs_codes t2, gl_posting_classes t3, fm_interfaces t4
LEFT JOIN fm_interface_vmrs_mappings AS t5 ON t5.product_code = t1.1link_product_code AND t5.interface_id = t4.interface_id
WHERE t4.interface_code = '1link'
-- Replace 'T1' with appropriate VMRS Code for Single Tyre
AND t2.vmrs_code = 'T1'
-- Replace 'T' with appropriate posting_class_code for Tyre
AND  t3.posting_class_code = 'T' AND product_type BETWEEN 2 AND 12
AND t5.product_code IS NULL;

# 13-26 = FastFit Products (Tyre and Services)

# 13-26 = FastFit Products (Misc Maintenance Items)

INSERT INTO fm_interface_vmrs_mappings
SELECT @interface_vmrs_mapping_id&nbsp;:= @interface_vmrs_mapping_id + 1, t4.interface_id, t1.1link_product_code, t3.posting_class_id, t2.vmrs_code_id, t1.description,'no','active'
FROM 1link_product_catalogue_mapping_tmp  t1, fm_vmrs_codes t2, gl_posting_classes t3, fm_interfaces t4
LEFT JOIN fm_interface_vmrs_mappings AS t5 ON t5.product_code = t1.1link_product_code AND t5.interface_id = t4.interface_id
WHERE t4.interface_code = '1link'
-- Replace 'AIRVENT' with appropriate VMRS Code for Air and Ventilation if a VMRS code already exists with different code
AND t2.vmrs_code = 'AIRVENT'
-- Replace 'M' with appropriate posting_class_code for Maintenance
AND  t3.posting_class_code = 'M' AND product_type = 13
AND t5.product_code IS NULL;

INSERT INTO fm_interface_vmrs_mappings
SELECT @interface_vmrs_mapping_id&nbsp;:= @interface_vmrs_mapping_id + 1, t4.interface_id, t1.1link_product_code, t3.posting_class_id, t2.vmrs_code_id, t1.description,'no','active'
FROM 1link_product_catalogue_mapping_tmp  t1, fm_vmrs_codes t2, gl_posting_classes t3, fm_interfaces t4
LEFT JOIN fm_interface_vmrs_mappings AS t5 ON t5.product_code = t1.1link_product_code AND t5.interface_id = t4.interface_id
WHERE t4.interface_code = '1link'
-- Replace 'BATTRIES' with appropriate VMRS Code for Batteries if a VMRS code already exists with different code
AND t2.vmrs_code = 'BATTRIES'
-- Replace 'M' with appropriate posting_class_code for Maintenance
AND  t3.posting_class_code = 'M' AND product_type = 14
AND t5.product_code IS NULL;

INSERT INTO fm_interface_vmrs_mappings
SELECT @interface_vmrs_mapping_id&nbsp;:= @interface_vmrs_mapping_id + 1, t4.interface_id, t1.1link_product_code, t3.posting_class_id, t2.vmrs_code_id, t1.description,'no','active'
FROM 1link_product_catalogue_mapping_tmp  t1, fm_vmrs_codes t2, gl_posting_classes t3, fm_interfaces t4
LEFT JOIN fm_interface_vmrs_mappings AS t5 ON t5.product_code = t1.1link_product_code AND t5.interface_id = t4.interface_id
WHERE t4.interface_code = '1link'
-- Replace 'BRAKES' with appropriate VMRS Code for Brakes if a VMRS code already exists with different code
AND t2.vmrs_code = 'BRAKES'
-- Replace 'M' with appropriate posting_class_code for Maintenance
AND  t3.posting_class_code = 'M' AND product_type = 15
AND t5.product_code IS NULL;

INSERT INTO fm_interface_vmrs_mappings
SELECT @interface_vmrs_mapping_id&nbsp;:= @interface_vmrs_mapping_id + 1, t4.interface_id, t1.1link_product_code, t3.posting_class_id, t2.vmrs_code_id, t1.description,'no','active'
FROM 1link_product_catalogue_mapping_tmp  t1, fm_vmrs_codes t2, gl_posting_classes t3, fm_interfaces t4
LEFT JOIN fm_interface_vmrs_mappings AS t5 ON t5.product_code = t1.1link_product_code AND t5.interface_id = t4.interface_id
WHERE t4.interface_code = '1link'
-- Replace 'COOLSYS' with appropriate VMRS Code for Cooling system if a VMRS code already exists with different code
AND t2.vmrs_code = 'COOLSYS'
-- Replace 'M' with appropriate posting_class_code for Maintenance
AND  t3.posting_class_code = 'M' AND product_type = 16
AND t5.product_code IS NULL;

INSERT INTO fm_interface_vmrs_mappings
SELECT @interface_vmrs_mapping_id&nbsp;:= @interface_vmrs_mapping_id + 1, t4.interface_id, t1.1link_product_code, t3.posting_class_id, t2.vmrs_code_id, t1.description,'no','active'
FROM 1link_product_catalogue_mapping_tmp  t1, fm_vmrs_codes t2, gl_posting_classes t3, fm_interfaces t4
LEFT JOIN fm_interface_vmrs_mappings AS t5 ON t5.product_code = t1.1link_product_code AND t5.interface_id = t4.interface_id
WHERE t4.interface_code = '1link'
-- Replace 'ENGINE' with appropriate VMRS Code for Engine if a VMRS code already exists with different code
AND t2.vmrs_code = 'ENGINE'
-- Replace 'M' with appropriate posting_class_code for Maintenance
AND  t3.posting_class_code = 'M' AND product_type = 17
AND t5.product_code IS NULL;

INSERT INTO fm_interface_vmrs_mappings
SELECT @interface_vmrs_mapping_id&nbsp;:= @interface_vmrs_mapping_id + 1, t4.interface_id, t1.1link_product_code, t3.posting_class_id, t2.vmrs_code_id, t1.description,'no','active'
FROM 1link_product_catalogue_mapping_tmp  t1, fm_vmrs_codes t2, gl_posting_classes t3, fm_interfaces t4
LEFT JOIN fm_interface_vmrs_mappings AS t5 ON t5.product_code = t1.1link_product_code AND t5.interface_id = t4.interface_id
WHERE t4.interface_code = '1link'
-- Replace 'EXHAUSTS' with appropriate VMRS Code for Exhausts if a VMRS code already exists with different code
AND t2.vmrs_code = 'EXHAUSTS'
-- Replace 'M' with appropriate posting_class_code for Maintenance
AND  t3.posting_class_code = 'M' AND product_type = 18
AND t5.product_code IS NULL;

INSERT INTO fm_interface_vmrs_mappings
SELECT @interface_vmrs_mapping_id&nbsp;:= @interface_vmrs_mapping_id + 1, t4.interface_id, t1.1link_product_code, t3.posting_class_id, t2.vmrs_code_id, t1.description,'no','active'
FROM 1link_product_catalogue_mapping_tmp  t1, fm_vmrs_codes t2, gl_posting_classes t3, fm_interfaces t4
LEFT JOIN fm_interface_vmrs_mappings AS t5 ON t5.product_code = t1.1link_product_code AND t5.interface_id = t4.interface_id
WHERE t4.interface_code = '1link'
-- Replace 'FUELSYS' with appropriate VMRS Code for Fuel System if a VMRS code already exists with different code
AND t2.vmrs_code = 'FUELSYS'
-- Replace 'M' with appropriate posting_class_code for Maintenance
AND  t3.posting_class_code = 'M' AND product_type = 19
AND t5.product_code IS NULL;

INSERT INTO fm_interface_vmrs_mappings
SELECT @interface_vmrs_mapping_id&nbsp;:= @interface_vmrs_mapping_id + 1, t4.interface_id, t1.1link_product_code, t3.posting_class_id, t2.vmrs_code_id, t1.description,'no','active'
FROM 1link_product_catalogue_mapping_tmp  t1, fm_vmrs_codes t2, gl_posting_classes t3, fm_interfaces t4
LEFT JOIN fm_interface_vmrs_mappings AS t5 ON t5.product_code = t1.1link_product_code AND t5.interface_id = t4.interface_id
WHERE t4.interface_code = '1link'
-- Replace 'GLOBES' with appropriate VMRS Code for Globes if a VMRS code already exists with different code
AND t2.vmrs_code = 'GLOBES'
-- Replace 'M' with appropriate posting_class_code for Maintenance
AND  t3.posting_class_code = 'M' AND product_type = 20
AND t5.product_code IS NULL;

INSERT INTO fm_interface_vmrs_mappings
SELECT @interface_vmrs_mapping_id&nbsp;:= @interface_vmrs_mapping_id + 1, t4.interface_id, t1.1link_product_code, t3.posting_class_id, t2.vmrs_code_id, t1.description,'no','active'
FROM 1link_product_catalogue_mapping_tmp  t1, fm_vmrs_codes t2, gl_posting_classes t3, fm_interfaces t4
LEFT JOIN fm_interface_vmrs_mappings AS t5 ON t5.product_code = t1.1link_product_code AND t5.interface_id = t4.interface_id
WHERE t4.interface_code = '1link'
-- Replace 'SUSPNSON' with appropriate VMRS Code for Suspension if a VMRS code already exists with different code
AND t2.vmrs_code = 'SUSPNSON'
-- Replace 'M' with appropriate posting_class_code for Maintenance
AND  t3.posting_class_code = 'M' AND product_type = 21
AND t5.product_code IS NULL;

INSERT INTO fm_interface_vmrs_mappings
SELECT @interface_vmrs_mapping_id&nbsp;:= @interface_vmrs_mapping_id + 1, t4.interface_id, t1.1link_product_code, t3.posting_class_id, t2.vmrs_code_id, t1.description,'no','active'
FROM 1link_product_catalogue_mapping_tmp  t1, fm_vmrs_codes t2, gl_posting_classes t3, fm_interfaces t4
LEFT JOIN fm_interface_vmrs_mappings AS t5 ON t5.product_code = t1.1link_product_code AND t5.interface_id = t4.interface_id
WHERE t4.interface_code = '1link'
-- Replace 'TRNSMSN' with appropriate VMRS Code for Transmission if a VMRS code already exists with different code
AND t2.vmrs_code = 'TRNSMSN'
-- Replace 'M' with appropriate posting_class_code for Maintenance
AND  t3.posting_class_code = 'M' AND product_type = 22
AND t5.product_code IS NULL;

INSERT INTO fm_interface_vmrs_mappings
SELECT @interface_vmrs_mapping_id&nbsp;:= @interface_vmrs_mapping_id + 1, t4.interface_id, t1.1link_product_code, t3.posting_class_id, t2.vmrs_code_id, t1.description,'no','active'
FROM 1link_product_catalogue_mapping_tmp  t1, fm_vmrs_codes t2, gl_posting_classes t3, fm_interfaces t4
LEFT JOIN fm_interface_vmrs_mappings AS t5 ON t5.product_code = t1.1link_product_code AND t5.interface_id = t4.interface_id
WHERE t4.interface_code = '1link'
-- Replace 'WINDSCRN' with appropriate VMRS Code for Windscreens if a VMRS code already exists with different code
AND t2.vmrs_code = 'WINDSCRN'
-- Replace 'M' with appropriate posting_class_code for Maintenance
AND  t3.posting_class_code = 'M' AND product_type = 23
AND t5.product_code IS NULL;

INSERT INTO fm_interface_vmrs_mappings
SELECT @interface_vmrs_mapping_id&nbsp;:= @interface_vmrs_mapping_id + 1, t4.interface_id, t1.1link_product_code, t3.posting_class_id, t2.vmrs_code_id, t1.description,'no','active'
FROM 1link_product_catalogue_mapping_tmp  t1, fm_vmrs_codes t2, gl_posting_classes t3, fm_interfaces t4
LEFT JOIN fm_interface_vmrs_mappings AS t5 ON t5.product_code = t1.1link_product_code AND t5.interface_id = t4.interface_id
WHERE t4.interface_code = '1link'
-- Replace 'WIPERS' with appropriate VMRS Code for Wipers if a VMRS code already exists with different code
AND t2.vmrs_code = 'WIPERS'
-- Replace 'M' with appropriate posting_class_code for Maintenance
AND  t3.posting_class_code = 'M' AND product_type = 24
AND t5.product_code IS NULL;

INSERT INTO fm_interface_vmrs_mappings
SELECT @interface_vmrs_mapping_id&nbsp;:= @interface_vmrs_mapping_id + 1, t4.interface_id, t1.1link_product_code, t3.posting_class_id, t2.vmrs_code_id, t1.description,'no','active'
FROM 1link_product_catalogue_mapping_tmp  t1, fm_vmrs_codes t2, gl_posting_classes t3, fm_interfaces t4
LEFT JOIN fm_interface_vmrs_mappings AS t5 ON t5.product_code = t1.1link_product_code AND t5.interface_id = t4.interface_id
WHERE t4.interface_code = '1link'
-- Replace 'TUBES' with appropriate VMRS Code for Wipers if a VMRS code already exists with different code
AND t2.vmrs_code = 'TUBES'
-- Replace 'M' with appropriate posting_class_code for Maintenance
AND  t3.posting_class_code = 'M' AND product_type = 25
AND t5.product_code IS NULL;

INSERT INTO fm_interface_vmrs_mappings
SELECT @interface_vmrs_mapping_id&nbsp;:= @interface_vmrs_mapping_id + 1, t4.interface_id, t1.1link_product_code, t3.posting_class_id, t2.vmrs_code_id, t1.description,'no','active'
FROM 1link_product_catalogue_mapping_tmp  t1, fm_vmrs_codes t2, gl_posting_classes t3, fm_interfaces t4
LEFT JOIN fm_interface_vmrs_mappings AS t5 ON t5.product_code = t1.1link_product_code AND t5.interface_id = t4.interface_id
WHERE t4.interface_code = '1link'
-- Replace 'SRVCHRG' with appropriate VMRS Code for Service Charges if a VMRS code already exists with different code
AND t2.vmrs_code = 'SRVCHRG'
-- Replace 'M' with appropriate posting_class_code for Maintenance
AND  t3.posting_class_code = 'M' AND product_type = 26
AND t5.product_code IS NULL;

UPDATE gb_unique_ids SET unique_id = @interface_vmrs_mapping_id + 1 WHERE table_name = 'fm_interface_vmrs_mappings';
</pre>
<p>7. Drop temporary table created in #2.
</p>
<pre>
DROP TABLE 1link_product_catalogue_mapping_tmp;
</pre>

<!-- Saved in parser cache with key help_catch_e_net_au:pcache:idhash:2034-0!1!0!0!!en!2 and timestamp 20251120012222 -->
<div class="printfooter">
Retrieved from "<a href="1link_Data_Mapping.html">https://help.catch-e.net.au/mediawiki/index.php/1link_Data_Mapping</a>"</div>
						<!-- end content -->
			<div class="visualClear"></div>
		</div>
	</div>
		</div>
		<div id="column-one">
	<div id="p-cactions" class="portlet">
		<h5>Views</h5>
		<ul>
		</ul>
	</div>
	<div class="portlet" id="p-personal">
		<h5>Personal tools</h5>
		<div class="pBody">
			<ul>
				<li id="pt-login"><a href="https://help.catch-e.net.au/mediawiki/index.php?title=Special:Userlogin&amp;returnto=1link_Data_Mapping">Log in / create account</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-logo">
		<a style="background-image: url(../../clients/help/wiki/common/images/logo.gif);" href="Main_Page.html" title="Main Page"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
	<div id="p-search" class="portlet">
		<h5><label for="searchInput">Search</label></h5>
		<div id="searchBody" class="pBody">
			<form action="./Special:Search.html" id="searchform"><div>
				<input id="searchInput" name="search" type="text" accesskey="f" value="" />
				<input type='submit' name="go" class="searchButton" id="searchGoButton"	value="Go" />&nbsp;
				<input type='submit' name="fulltext" class="searchButton" value="Search" />
			</div></form>
		</div>
	</div>
	<div class="portlet" id="p-tb">
		<h5>Toolbox</h5>
		<div class="pBody">
			<ul>
				<li id="t-whatlinkshere"><a href="./Special:Whatlinkshere/1link_Data_Mapping.html">What links here</a></li>
				<li id="t-print"><a href="https://help.catch-e.net.au/mediawiki/index.php?title=1link_Data_Mapping&amp;printable=yes">Printable version</a></li>			</ul>
		</div>
	</div>

		</div><!-- end of the left (by default at least) column -->
			<div class="visualClear"></div>
			<div id="footer">
				<div id="f-poweredbyico"><a href="http://www.mediawiki.org/"><img src="../skins/common/images/poweredby_mediawiki_88x31.png" alt="MediaWiki" /></a></div>
&copy; 2025 Catch-e Pty Ltd			<ul id="f-list">
				<li id="privacy"><a href="./Help_wiki:Privacy_policy.html" title="Help wiki:Privacy policy">Privacy policy</a></li>
				<li id="disclaimer"><a href="./Help_wiki:General_disclaimer.html" title="Help wiki:General disclaimer">Disclaimers</a></li>
			</ul>
		</div>
	<script type="text/javascript"> if (window.runOnloadHook) runOnloadHook();</script>
</div>
<!-- Served by 2c88f4f4aa65 in 0.02 secs. -->
</body></html>
