<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta name="keywords" content="Interface Query,AutoGuru:interfaceQuery,DmzUploadFile,Dmz Move File,File Name Timestamp,Job Scheduler,Job Scheduler:Job,Job Scheduler:Queue,Job Scheduler:Schedule,Main Page,Office(xls) Format" />
<link rel="shortcut icon" href="../../favicon.ico" />
		<title>Interface Query - Help wiki</title>
		<style type="text/css" media="screen,projection">/*<![CDATA[*/ @import "../skins/catche/main.css%3F7.css"; /*]]>*/</style>
		<link rel="stylesheet" type="text/css" media="print" href="../skins/common/commonPrint.css" />
		<!--[if lt IE 5.5000]><style type="text/css">@import "/mediawiki/skins/catche/IE50Fixes.css";</style><![endif]-->
		<!--[if IE 5.5000]><style type="text/css">@import "/mediawiki/skins/catche/IE55Fixes.css";</style><![endif]-->
		<!--[if IE 6]><style type="text/css">@import "/mediawiki/skins/catche/IE60Fixes.css";</style><![endif]-->
		<!--[if IE 7]><style type="text/css">@import "/mediawiki/skins/catche/IE70Fixes.css?1";</style><![endif]-->
		<!--[if lt IE 7]><script type="text/javascript" src="/mediawiki/skins/common/IEFixes.js"></script>
		<meta http-equiv="imagetoolbar" content="no" /><![endif]-->
		<script type="text/javascript">var skin = 'catche';var stylepath = '/mediawiki/skins';</script>
		<script type="text/javascript" src="../skins/common/wikibits.js"><!-- wikibits js --></script>
		<script type="text/javascript" src="../index.php%3Ftitle=-&amp;action=raw&amp;gen=js"><!-- site js --></script>
		<style type="text/css">/*<![CDATA[*/
@import "../index.php%3Ftitle=MediaWiki:Common.css&action=raw&ctype=text%252Fcss&smaxage=18000.css";
@import "../index.php%3Ftitle=MediaWiki:Catche.css&action=raw&ctype=text%252Fcss&smaxage=18000.css";
@import "../index.php%3Ftitle=-&action=raw&gen=css&maxage=18000.css";
/*]]>*/</style>
		<!-- Head Scripts -->
		      <style>
        <!--
        .editsection { display: none; }
        -->
      </style>
	</head>
<body  class="ns-0 ltr">
	<div id="globalWrapper">
		<div id="column-content">
	<div id="content">
		<a name="top" id="top"></a>
				<h1 class="firstHeading">Interface Query</h1>
		<div id="bodyContent">
			<h3 id="siteSub">From Help wiki</h3>
			<div id="contentSub"></div>
									<div id="jump-to-nav">Jump to: <a href="Interface_Query.html#column-one">navigation</a>, <a href="Interface_Query.html#searchInput">search</a></div>			<!-- start content -->
			<p><a href="Main_Page.html" title="Main Page">Main Page</a> &rarr; <a href="SYSTEM.html" title="SYSTEM">System</a> / <a href="Job_Scheduler.html" title="Job Scheduler">Scheduler</a> &rarr; <a href="./Job_Scheduler:Schedule.html" title="Job Scheduler:Schedule">Schedule</a> | <a href="./Job_Scheduler:Job.html" title="Job Scheduler:Job">Job</a> | <a href="./Job_Scheduler:Queue.html" title="Job Scheduler:Queue">Queue</a> &rarr;   <a href="Scheduler_Job_Types.html#Queries" title="Scheduler Job Types">Method</a> &rarr; <strong>interfaceQuery</strong>
</p>
<hr />
<table id="toc" class="toc" summary="Contents"><tr><td><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class='toclevel-1'><a href="Interface_Query.html#Overview"><span class="tocnumber">1</span> <span class="toctext">Overview</span></a></li>
<li class='toclevel-1'><a href="Interface_Query.html#Parameters"><span class="tocnumber">2</span> <span class="toctext">Parameters</span></a></li>
<li class='toclevel-1'><a href="Interface_Query.html#Validations_and_Alerts"><span class="tocnumber">3</span> <span class="toctext">Validations and Alerts</span></a></li>
<li class='toclevel-1'><a href="Interface_Query.html#System_Notes"><span class="tocnumber">4</span> <span class="toctext">System Notes</span></a></li>
</ul>
</td></tr></table><script type="text/javascript"> if (window.showTocToggle) { var tocShowText = "show"; var tocHideText = "hide"; showTocToggle(); } </script>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="https://help.catch-e.net.au/mediawiki/index.php?title=Interface_Query&amp;action=edit&amp;section=1" title="Edit section: Overview">edit</a>]</div><a name="Overview"></a><h4>Overview</h4>
<p>This type of scheduled job allows you to extract data with a <a href="User_Defined_Queries.html" title="User Defined Queries">User Defined Query</a> and save it in a file in your DMZ area. You can then access the file using utilites such as FTP if you have been granted permission, or use it as the basis of an automated interface between Catch-e and your external systems.
</p><p>If an external process will be polling for this file, it can be very useful to combine this job with <a href="Dmz_Move_File.html" title="Dmz Move File">dmzMoveFile</a> to ensure the file is completely built before making it available using the following steps:
</p>
<ol><li> Use an <strong>Interface Query</strong> job to build the file using a temporary filename, or placing it in a temporary sub-folder
</li><li> Use <a href="Dmz_Move_File.html" title="Dmz Move File">dmzMoveFile</a> as a child job to move / rename the file to the correct place / name expected by the external process 
</li><li> Use <a href="DmzUploadFile.html" title="DmzUploadFile">dmzUploadFile</a> as a child job to upload the file to the external sftp location (if required)<br /><br />
</li></ol>
<p>Related pages:<br />
<a href="WEX_Motorpass.html" title="WEX Motorpass">WEX Motorpass</a> - card ordering<br />
<a href="./AutoGuru:interfaceQuery.html" title="AutoGuru:interfaceQuery">AutoGuru interfaceQuery</a> - daily vehicle file
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="https://help.catch-e.net.au/mediawiki/index.php?title=Interface_Query&amp;action=edit&amp;section=2" title="Edit section: Parameters">edit</a>]</div><a name="Parameters"></a><h4>Parameters</h4>
<p>The Scheduler <a href="./Job_Scheduler:Job.html" title="Job Scheduler:Job">Job Screen</a> screen has the following input parameters:
</p>
<table class="catch-e" style="border-collapse: collapse; width: 100%;">
<tr>
<th> Parameter </th><th> Notes
</th></tr>
<tr>
<td style="width: 12%;"> Query ID </td><td> Is the query_id of the required gb_queries record.  A search icon is provided to find the required query. <b>Query ID</b> cannot be blank.
</td></tr>
<tr>
<td> Attachment Format </td><td> Choose the required format for the attachment file from '<a href="Office(xlsx).html" title="Office(xlsx)">Office(xlsx)</a>', 'Office(xls)', , 'Text(csv)', ‘Text(txt)’ or 'XML'..<br /> '<a href="Office(xlsx).html" title="Office(xlsx)">Office(xlsx)</a>' is the default value and saves with an xlsx suffix. Further parameter variables are hidden if this format is chosen.<br />  <a href="Office(xls)_Format.html" title="Office(xls) Format">'Office(xls)'</a> enables you to <a href="Office(xls)_Format.html" title="Office(xls) Format">customise</a> the presentation of the generated files. Further parameter variables are hidden if this format is chosen.<br />'Text(csv)' generates a text delimited file and uses the CSV, Comma Separated Variable, format.
<p>'Text (txt)' generates a text delimited file and uses the Text (Tab Delimited) format.
'XML' generates an XML based file. <br />
Office(xls) and office(xlsx) reports that contain more than 65,500 individual rows will be automatically converted to Text(csv) format.
</p>
</td></tr>
<tr>
<td> Column Headings </td><td> <b>Text</b> If you turn this on, the first row of the output will contain column headings.
</td></tr>
<tr>
<td> Format Column Headings </td><td> <b>Text</b> used in conjunction with <b>Format Column</b>, if you turn this on, the column headings will be formatted by replacing underscores with spaces and words will be capitalised.
</td></tr>
<tr>
<td> Separated By </td><td>' will create a pipe separated file. In the special case where {tab} is being used for the separator, all tabs in the data will be replaced with white spaces to conform to the IANA standard for TSV files.
</td></tr>
<tr>
<td> Text Delimited By </td><td> <b>Text</b> Sets the character used to delimit columns / fields in the output if they contain special characters.  Special characters include double quotes, newlines, and this delimiter character itself.  The 'none' option will add no delimiters and is useful when the query itself adds the delimiters e.g. creating a custom interface file to specification.
</td></tr>
<tr>
<td> Omit Final Line Break </td><td> <b>Text</b> If you turn this on, there will be no line break after the last row of output.  This is required by some third party software for import purposes. This is turned off by default.
</td></tr>
<tr>
<td> Singleton Tags </td><td> <b>XML</b> If you turn this on, tags with empty values will use the singleton style format e.g. &lt;Name /&gt; as opposed to &lt;Name&gt;&lt;/Name&gt;.
</td></tr>
<tr>
<td> Indent Size </td><td> <b>XML</b> Sets the indentation (whitespaces) used, this must be an integer between 0 and 9. The default is 2.
</td></tr>
<tr>
<td> Newlines </td><td> <b>XML</b> If you turn this on, all lines will end in a newline character. This improves readability when viewing or printing the XML from non-specialized text editors.
</td></tr>
<tr>
<td> File Name </td><td> Enter the file name you want to use for this file. The file extention needs to be entered as part of the name.<br />
<p>The setting you use for the "File Name Timestamp" check box affects the filename that is generated by the job.<br /> Visit <a href="File_Name_Timestamp.html" title="File Name Timestamp">File Name Timestamp</a> for examples of how various "File Name" and "File Name Timestamp" combinations would work.
</p>
</td></tr>
<tr>
<td> <a href="File_Name_Timestamp.html" title="File Name Timestamp">File Name Timestamp</a> </td><td> Check to append the file creation timestamp to the file name to make it unique.<br /> Add the #timestamp# placeholder to your file name to control the location of the timestamp.<br /> Eg. The following file names would yield the following results;
<ol><li> 'inventory.xlsx' would create as inventory.xlsx.<b>20201016112943</b>
</li><li> '<b>#timestamp#</b>_inventory.xlsx' would create as <b>20201016112943</b>_inventory.xlsx
</li><li>	#date#_#time#_file_name would create as  20210528_135144_inventory
</li><li>	#date#_file_name_#time# would create as  20210528_inventory_135144
</li><li>	#date#_#time#_file_name.csv  would create as  20210528_135144_inventory.csv
</li><li>	#date#_file_name_#time#.csv  would create as  20210528_inventory_135144.csv
</li></ol>
<p>Go to <a href="File_Name_Timestamp.html" title="File Name Timestamp">File Name Timestamp</a> for a complete range of file naming examples.<br />
<b>Note:</b> The #timestamp# placeholder will <u>only</u> generate if "File Name Timestamp" is checked
</p>
</td></tr>
<tr>
<td> DMZ Subfolder </td><td> Enter the folder name you want the created file to be stored in. E.g. 'reports'<br /> Folders can be nested. E.g. 'reports/out'<br />If the folder does not exist, it will be created the first time this job is run.<br />  If this field is blank, the file will be stored in the DMZ home folder.
</td></tr>
<tr>
<td> Zip File Name </td><td> If you enter the name of a zip file, the interface file will be added to it.  If the zip doesn't exist it will be created. If <b>Zip File Name</b> doesn't have a file extension, it will be given the extension '.zip', otherwise it will use the exention provided. If the interface file already exists in the zip file, it will be replaced. Once it has been added to the zip file, the interface will be deleted.
<table style="border-collapse: collapse; width: 100%; background: #ffd7d7; border: 1px solid silver;">

<tr>
<td width="15%" align="left"> <a href="./Image:Warning.png.html" class="image" title=""><img src="../../clients/help/wiki/images/c/cb/Warning.png" alt="" width="30" height="30" longdesc="/mediawiki/index.php/Image:Warning.png" /></a> &nbsp;&nbsp;The full stop in hidden files will prevent a '.zip' extension being added.
</td></tr></table>
</td></tr></table>
<p><br />
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="https://help.catch-e.net.au/mediawiki/index.php?title=Interface_Query&amp;action=edit&amp;section=3" title="Edit section: Validations and Alerts">edit</a>]</div><a name="Validations_and_Alerts"></a><h4>Validations and Alerts</h4>
<table class="catch-e" style="border-collapse: collapse; width: 100%;">
<tr>
<th width="30%" align="left"> Alert </th><th width="70%" align="left"> Comments
</th></tr>
<tr>
<td class="catch-e_th_sub" colspan="2"> Save
</td></tr>
<tr>
<td>File name cannot be blank!</td><td>Enter the required "File Name".
</td></tr>
<tr>
<td class="catch-e_th_sub" colspan="2"> Run Now
</td></tr>
<tr>
<td> CATCH_E_ERROR_BAD_DMZ_SUBFOLDER_PATH&nbsp; </td><td> The subfolder does not existing in this folder.
</td></tr>
</table>
<p><br />
<br /><br />
</p>
<hr />
<div class="editsection" style="float:right;margin-left:5px;">[<a href="https://help.catch-e.net.au/mediawiki/index.php?title=Interface_Query&amp;action=edit&amp;section=4" title="Edit section: System Notes">edit</a>]</div><a name="System_Notes"></a><h4>System Notes</h4>
<p><small>
</p>
<ul><li> 7159: dmzMoveFile(). Live 26/04/2013
</li><li> (DEV-21092) Set up Scheduler to send excel attachments as .xlsx. Live 27/07/2020
</li><li>(DEV-21215) Append Timestamp to a filename in Interface Query using a placeholder.Live 12/10/2020
</li><li>(DEV-21410) Append Date and Time to a filename in Interface Query using placeholders. Live 07/06/2021
</li><li>(DEV-21477) MailQuery - Create provision for 'Attachment Format' to allow for '.txt' output. Live dd/mm/2021
</li></ul>
<p></small>
</p><div class="printfooter">
Retrieved from "<a href="Interface_Query.html">https://help.catch-e.net.au/mediawiki/index.php/Interface_Query</a>"</div>
						<!-- end content -->
			<div class="visualClear"></div>
		</div>
	</div>
		</div>
		<div id="column-one">
	<div id="p-cactions" class="portlet">
		<h5>Views</h5>
		<ul>
		</ul>
	</div>
	<div class="portlet" id="p-personal">
		<h5>Personal tools</h5>
		<div class="pBody">
			<ul>
				<li id="pt-login"><a href="https://help.catch-e.net.au/mediawiki/index.php?title=Special:Userlogin&amp;returnto=Interface_Query">Log in / create account</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-logo">
		<a style="background-image: url(../../clients/help/wiki/common/images/logo.gif);" href="Main_Page.html" title="Main Page"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
	<div id="p-search" class="portlet">
		<h5><label for="searchInput">Search</label></h5>
		<div id="searchBody" class="pBody">
			<form action="./Special:Search.html" id="searchform"><div>
				<input id="searchInput" name="search" type="text" accesskey="f" value="" />
				<input type='submit' name="go" class="searchButton" id="searchGoButton"	value="Go" />&nbsp;
				<input type='submit' name="fulltext" class="searchButton" value="Search" />
			</div></form>
		</div>
	</div>
	<div class="portlet" id="p-tb">
		<h5>Toolbox</h5>
		<div class="pBody">
			<ul>
				<li id="t-whatlinkshere"><a href="./Special:Whatlinkshere/Interface_Query.html">What links here</a></li>
				<li id="t-print"><a href="https://help.catch-e.net.au/mediawiki/index.php?title=Interface_Query&amp;printable=yes">Printable version</a></li>			</ul>
		</div>
	</div>

		</div><!-- end of the left (by default at least) column -->
			<div class="visualClear"></div>
			<div id="footer">
				<div id="f-poweredbyico"><a href="http://www.mediawiki.org/"><img src="../skins/common/images/poweredby_mediawiki_88x31.png" alt="MediaWiki" /></a></div>
&copy; 2025 Catch-e Pty Ltd			<ul id="f-list">
				<li id="privacy"><a href="./Help_wiki:Privacy_policy.html" title="Help wiki:Privacy policy">Privacy policy</a></li>
				<li id="disclaimer"><a href="./Help_wiki:General_disclaimer.html" title="Help wiki:General disclaimer">Disclaimers</a></li>
			</ul>
		</div>
	<script type="text/javascript"> if (window.runOnloadHook) runOnloadHook();</script>
</div>
<!-- Served by 6a1f7abdc40c in 0.07 secs. -->
</body></html>
